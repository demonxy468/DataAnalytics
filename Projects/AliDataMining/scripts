{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# 写入数据"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>instance_id</th>\n",
       "      <th>item_id</th>\n",
       "      <th>item_category_list</th>\n",
       "      <th>item_property_list</th>\n",
       "      <th>item_brand_id</th>\n",
       "      <th>item_city_id</th>\n",
       "      <th>item_price_level</th>\n",
       "      <th>item_sales_level</th>\n",
       "      <th>item_collected_level</th>\n",
       "      <th>item_pv_level</th>\n",
       "      <th>...</th>\n",
       "      <th>context_page_id</th>\n",
       "      <th>predict_category_property</th>\n",
       "      <th>shop_id</th>\n",
       "      <th>shop_review_num_level</th>\n",
       "      <th>shop_review_positive_rate</th>\n",
       "      <th>shop_star_level</th>\n",
       "      <th>shop_score_service</th>\n",
       "      <th>shop_score_delivery</th>\n",
       "      <th>shop_score_description</th>\n",
       "      <th>is_trade</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>108641074714126964</td>\n",
       "      <td>3412720377098676069</td>\n",
       "      <td>7908382889764677758;5799347067982556520</td>\n",
       "      <td>2072967855524022579;5131280576272319091;263639...</td>\n",
       "      <td>1975590437749032870</td>\n",
       "      <td>3948283326616421003</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>4</td>\n",
       "      <td>14</td>\n",
       "      <td>...</td>\n",
       "      <td>4006</td>\n",
       "      <td>5799347067982556520:-1;509660095530134768:-1;5...</td>\n",
       "      <td>6765930309048922341</td>\n",
       "      <td>4</td>\n",
       "      <td>1.0</td>\n",
       "      <td>5002</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>5754713551599725161</td>\n",
       "      <td>3412720377098676069</td>\n",
       "      <td>7908382889764677758;5799347067982556520</td>\n",
       "      <td>2072967855524022579;5131280576272319091;263639...</td>\n",
       "      <td>1975590437749032870</td>\n",
       "      <td>3948283326616421003</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>4</td>\n",
       "      <td>14</td>\n",
       "      <td>...</td>\n",
       "      <td>4001</td>\n",
       "      <td>5799347067982556520:9172976955054793469;790838...</td>\n",
       "      <td>6765930309048922341</td>\n",
       "      <td>4</td>\n",
       "      <td>1.0</td>\n",
       "      <td>5002</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>2 rows × 27 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "           instance_id              item_id  \\\n",
       "0   108641074714126964  3412720377098676069   \n",
       "1  5754713551599725161  3412720377098676069   \n",
       "\n",
       "                        item_category_list  \\\n",
       "0  7908382889764677758;5799347067982556520   \n",
       "1  7908382889764677758;5799347067982556520   \n",
       "\n",
       "                                  item_property_list        item_brand_id  \\\n",
       "0  2072967855524022579;5131280576272319091;263639...  1975590437749032870   \n",
       "1  2072967855524022579;5131280576272319091;263639...  1975590437749032870   \n",
       "\n",
       "          item_city_id  item_price_level  item_sales_level  \\\n",
       "0  3948283326616421003                 3                 3   \n",
       "1  3948283326616421003                 3                 3   \n",
       "\n",
       "   item_collected_level  item_pv_level    ...     context_page_id  \\\n",
       "0                     4             14    ...                4006   \n",
       "1                     4             14    ...                4001   \n",
       "\n",
       "                           predict_category_property              shop_id  \\\n",
       "0  5799347067982556520:-1;509660095530134768:-1;5...  6765930309048922341   \n",
       "1  5799347067982556520:9172976955054793469;790838...  6765930309048922341   \n",
       "\n",
       "   shop_review_num_level  shop_review_positive_rate  shop_star_level  \\\n",
       "0                      4                        1.0             5002   \n",
       "1                      4                        1.0             5002   \n",
       "\n",
       "   shop_score_service  shop_score_delivery shop_score_description  is_trade  \n",
       "0                 1.0                  1.0                    1.0         0  \n",
       "1                 1.0                  1.0                    1.0         0  \n",
       "\n",
       "[2 rows x 27 columns]"
      ]
     },
     "execution_count": 2,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "import warnings\n",
    "warnings.filterwarnings(\"ignore\")\n",
    "\n",
    "import pandas as pd\n",
    "import csv\n",
    "import xgboost as xgb\n",
    "import numpy as np\n",
    "import pandas as pd\n",
    "import os\n",
    "\n",
    "\n",
    "from numpy import loadtxt\n",
    "from xgboost import XGBClassifier\n",
    "from sklearn.model_selection import train_test_split\n",
    "from sklearn.metrics import accuracy_score\n",
    "\n",
    "\n",
    "from xgboost import plot_importance\n",
    "from matplotlib import pyplot\n",
    "\n",
    "\n",
    "from sklearn.model_selection import GridSearchCV\n",
    "from sklearn.model_selection import StratifiedKFold\n",
    "\n",
    "# 链接：https://www.jianshu.com/p/7e0e2d66b3d4\n",
    "from sklearn.utils import resample\n",
    "from sklearn.cluster import KMeans\n",
    "from sklearn import preprocessing\n",
    "import datetime\n",
    "\n",
    "from sklearn.metrics import log_loss\n",
    "\n",
    "import numpy as np\n",
    "import matplotlib.pyplot as plt\n",
    "from matplotlib import style\n",
    "style.use(\"ggplot\")\n",
    "from sklearn.cluster import KMeans\n",
    "\n",
    "import _thread\n",
    "import time\n",
    "from sklearn.preprocessing import LabelEncoder\n",
    "start = time.time()\n",
    "\n",
    "\n",
    "# ads = pd.read_csv('./train_clean.csv')\n",
    "ads = pd.read_csv('./round1_ijcai_18_train_20180301.csv')\n",
    "ads.head(2)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "pd.set_option('display.max_columns', None)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# 下面进行一些feature engineering  后面换数据集的话，注意调整topN的阀值"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "###################################          #itemid TopN          ##########################################\n",
    "\n",
    "\n",
    "gp = ads.groupby(by='item_id')\n",
    "newdf=gp.size().reset_index(name='times') \n",
    "\n",
    "pop_brands_low = newdf[newdf['times']<=200]['item_id'].unique()     #选100还是200\n",
    "\n",
    "\n",
    "def itemid_cvt(num):\n",
    "    if num in pop_brands_low:\n",
    "        return 1\n",
    "\n",
    "    else:\n",
    "        return num\n",
    "\n",
    "    \n",
    "ads['item_id'] = ads['item_id'].apply(itemid_cvt)\n",
    "\n",
    "le = LabelEncoder()\n",
    "le.fit(ads['item_id'])\n",
    "ads['item_id'] = le.transform(ads['item_id'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [],
   "source": [
    "###################################           #brand TopN       ##########################################\n",
    "gp = ads.groupby(by='item_brand_id')\n",
    "newdf=gp.size().reset_index(name='times') \n",
    "\n",
    "pop_brands_low = newdf[newdf['times']<=20]['item_brand_id'].unique()\n",
    "\n",
    "\n",
    "def brand_cvt(num):\n",
    "    if num in pop_brands_low:\n",
    "        return 1\n",
    "\n",
    "    else:\n",
    "        return num\n",
    "\n",
    "    \n",
    "ads['item_brand_id'] = ads['item_brand_id'].apply(brand_cvt)\n",
    "\n",
    "le = LabelEncoder()\n",
    "le.fit(ads['item_brand_id'])\n",
    "ads['item_brand_id'] = le.transform(ads['item_brand_id'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [],
   "source": [
    "###################################           #city TopN       ##########################################\n",
    "\n",
    "\n",
    "gp = ads.groupby(by='item_city_id')\n",
    "newdf=gp.size().reset_index(name='times') \n",
    "# newdf[newdf['times']>100].shape[0] #这个100是可以调整的 \n",
    "\n",
    "pop_brands_low = newdf[newdf['times']<=50]['item_city_id'].unique()\n",
    "\n",
    "\n",
    "def city_cvt(num):\n",
    "    if num in pop_brands_low:\n",
    "        return 1\n",
    "\n",
    "    else:\n",
    "        return num\n",
    "\n",
    "    \n",
    "ads['item_city_id'] = ads['item_city_id'].apply(city_cvt)\n",
    "\n",
    "le = LabelEncoder()\n",
    "le.fit(ads['item_city_id'])\n",
    "ads['item_city_id'] = le.transform(ads['item_city_id'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>instance_id</th>\n",
       "      <th>item_id</th>\n",
       "      <th>item_category_list</th>\n",
       "      <th>item_property_list</th>\n",
       "      <th>item_brand_id</th>\n",
       "      <th>item_city_id</th>\n",
       "      <th>item_price_level</th>\n",
       "      <th>item_sales_level</th>\n",
       "      <th>item_collected_level</th>\n",
       "      <th>item_pv_level</th>\n",
       "      <th>...</th>\n",
       "      <th>predict_category_property</th>\n",
       "      <th>shop_id</th>\n",
       "      <th>len_pred_cat</th>\n",
       "      <th>shop_review_num_level</th>\n",
       "      <th>shop_review_positive_rate</th>\n",
       "      <th>shop_star_level</th>\n",
       "      <th>shop_score_service</th>\n",
       "      <th>shop_score_delivery</th>\n",
       "      <th>shop_score_description</th>\n",
       "      <th>is_trade</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>108641074714126964</td>\n",
       "      <td>0</td>\n",
       "      <td>7908382889764677758;5799347067982556520</td>\n",
       "      <td>2072967855524022579;5131280576272319091;263639...</td>\n",
       "      <td>225</td>\n",
       "      <td>33</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>4</td>\n",
       "      <td>14</td>\n",
       "      <td>...</td>\n",
       "      <td>5799347067982556520:-1;509660095530134768:-1;5...</td>\n",
       "      <td>6765930309048922341</td>\n",
       "      <td>5</td>\n",
       "      <td>4</td>\n",
       "      <td>1.0</td>\n",
       "      <td>5002</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>1 rows × 28 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "          instance_id  item_id                       item_category_list  \\\n",
       "0  108641074714126964        0  7908382889764677758;5799347067982556520   \n",
       "\n",
       "                                  item_property_list  item_brand_id  \\\n",
       "0  2072967855524022579;5131280576272319091;263639...            225   \n",
       "\n",
       "   item_city_id  item_price_level  item_sales_level  item_collected_level  \\\n",
       "0            33                 3                 3                     4   \n",
       "\n",
       "   item_pv_level    ...                             predict_category_property  \\\n",
       "0             14    ...     5799347067982556520:-1;509660095530134768:-1;5...   \n",
       "\n",
       "               shop_id  len_pred_cat  shop_review_num_level  \\\n",
       "0  6765930309048922341             5                      4   \n",
       "\n",
       "   shop_review_positive_rate  shop_star_level  shop_score_service  \\\n",
       "0                        1.0             5002                 1.0   \n",
       "\n",
       "   shop_score_delivery shop_score_description  is_trade  \n",
       "0                  1.0                    1.0         0  \n",
       "\n",
       "[1 rows x 28 columns]"
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "###################################           新特征len_predcat       ##########################################\n",
    "\n",
    "#再对对item_property_list进行长度分析\n",
    "#看每一行长度,越长表明本行越长，商品信息越丰富\n",
    "df = ads['predict_category_property'].str.split(';',expand=True)\n",
    "df.columns = [\"len_\"+str (i) for i in range(len(df.columns))]\n",
    "ads.insert(20, 'len_pred_cat', df.count(axis=1) )\n",
    "ads.head(1)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# 上面是新加特征"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>instance_id</th>\n",
       "      <th>item_id</th>\n",
       "      <th>item_category_list</th>\n",
       "      <th>item_property_list</th>\n",
       "      <th>item_brand_id</th>\n",
       "      <th>item_city_id</th>\n",
       "      <th>item_price_level</th>\n",
       "      <th>item_sales_level</th>\n",
       "      <th>item_collected_level</th>\n",
       "      <th>item_pv_level</th>\n",
       "      <th>...</th>\n",
       "      <th>shop_star_level</th>\n",
       "      <th>shop_score_service</th>\n",
       "      <th>shop_score_delivery</th>\n",
       "      <th>shop_score_description</th>\n",
       "      <th>is_trade</th>\n",
       "      <th>time</th>\n",
       "      <th>day</th>\n",
       "      <th>hour</th>\n",
       "      <th>user_query_day</th>\n",
       "      <th>user_query_day_hour</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>108641074714126964</td>\n",
       "      <td>0</td>\n",
       "      <td>7908382889764677758;5799347067982556520</td>\n",
       "      <td>2072967855524022579;5131280576272319091;263639...</td>\n",
       "      <td>225</td>\n",
       "      <td>33</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>4</td>\n",
       "      <td>14</td>\n",
       "      <td>...</td>\n",
       "      <td>5002</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0</td>\n",
       "      <td>2018-09-17 22:09:04</td>\n",
       "      <td>17</td>\n",
       "      <td>22</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>5754713551599725161</td>\n",
       "      <td>0</td>\n",
       "      <td>7908382889764677758;5799347067982556520</td>\n",
       "      <td>2072967855524022579;5131280576272319091;263639...</td>\n",
       "      <td>225</td>\n",
       "      <td>33</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>4</td>\n",
       "      <td>14</td>\n",
       "      <td>...</td>\n",
       "      <td>5002</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0</td>\n",
       "      <td>2018-09-18 00:00:32</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>9</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>2 rows × 33 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "           instance_id  item_id                       item_category_list  \\\n",
       "0   108641074714126964        0  7908382889764677758;5799347067982556520   \n",
       "1  5754713551599725161        0  7908382889764677758;5799347067982556520   \n",
       "\n",
       "                                  item_property_list  item_brand_id  \\\n",
       "0  2072967855524022579;5131280576272319091;263639...            225   \n",
       "1  2072967855524022579;5131280576272319091;263639...            225   \n",
       "\n",
       "   item_city_id  item_price_level  item_sales_level  item_collected_level  \\\n",
       "0            33                 3                 3                     4   \n",
       "1            33                 3                 3                     4   \n",
       "\n",
       "   item_pv_level         ...           shop_star_level  shop_score_service  \\\n",
       "0             14         ...                      5002                 1.0   \n",
       "1             14         ...                      5002                 1.0   \n",
       "\n",
       "   shop_score_delivery  shop_score_description  is_trade                 time  \\\n",
       "0                  1.0                     1.0         0  2018-09-17 22:09:04   \n",
       "1                  1.0                     1.0         0  2018-09-18 00:00:32   \n",
       "\n",
       "   day  hour user_query_day  user_query_day_hour  \n",
       "0   17    22              3                    3  \n",
       "1   18     0              9                    5  \n",
       "\n",
       "[2 rows x 33 columns]"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "########################################          Timestamp      ############################################\n",
    "\n",
    "\n",
    "\n",
    "def timestamp_datetime(value):\n",
    "    format = '%Y-%m-%d %H:%M:%S'\n",
    "    value = time.localtime(value)\n",
    "    dt = time.strftime(format, value)\n",
    "    return dt\n",
    "\n",
    "\n",
    "def convert_data(data):\n",
    "    data['time'] = data.context_timestamp.apply(timestamp_datetime)\n",
    "    data['day'] = data.time.apply(lambda x: int(x[8:10]))\n",
    "    data['hour'] = data.time.apply(lambda x: int(x[11:13]))\n",
    "    user_query_day = data.groupby(['user_id', 'day']).size(\n",
    "    ).reset_index().rename(columns={0: 'user_query_day'})\n",
    "    data = pd.merge(data, user_query_day, 'left', on=['user_id', 'day'])\n",
    "    user_query_day_hour = data.groupby(['user_id', 'day', 'hour']).size().reset_index().rename(\n",
    "        columns={0: 'user_query_day_hour'})\n",
    "    data = pd.merge(data, user_query_day_hour, 'left',\n",
    "                    on=['user_id', 'day', 'hour'])\n",
    "    \n",
    "    return data\n",
    "\n",
    "ads = convert_data(ads)\n",
    "ads.head(2)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "# def bin_time(num):\n",
    "#     if num in [13,14,15,16,17,18]:\n",
    "#         num=14\n",
    "#     elif num in[19,20]:\n",
    "#         num=15\n",
    "#     elif num in [21, 22,23]:\n",
    "#         num =num-5\n",
    "#     else:\n",
    "#         num = num +1\n",
    "#     return num\n",
    "\n",
    "# ads['context_timestamp'] = ads['context_timestamp'].apply(bin_time)\n",
    "# ads['context_timestamp'].unique()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "#对时间进行bin操作\n",
    "\n",
    "# def bin_time(num):\n",
    "#     if num in [13,14,15,16,17,18]:\n",
    "#         num=14\n",
    "#     elif num in[19,20]:\n",
    "#         num=15\n",
    "#     elif num in [21, 22,23]:\n",
    "#         num =num-5\n",
    "#     else:\n",
    "#         num = num +1\n",
    "#     return num\n",
    "\n",
    "# ads['context_timestamp'] = ads['context_timestamp'].apply(bin_time)\n",
    "# ads['context_timestamp'].unique()\n",
    "\n",
    "\n",
    "# ###在这里创建新特征compare_cate:如果该item在后面pred出现，赋值为1,否则为0\n",
    "\n",
    "\n",
    "# ads['item_category_list'] = ads['item_category_list'].apply(str)\n",
    "\n",
    "# def compare_category(row):\n",
    "#     if row['item_category_list'] in row['predict_category_property']:\n",
    "#         return 1\n",
    "#     else:\n",
    "#         return 0\n",
    "\n",
    "    \n",
    "# compare_categ = ads.apply(compare_category, axis=1)\n",
    "# ads.insert(14, 'compare_category', compare_categ)\n",
    "# ads.head(2)\n",
    "\n",
    "\n",
    "# ###在这里创建新特征compare_ppt:对于每个后面的predict_category_property，若出现x个在item_property_list，那么就x*weight来赋值\n",
    "# #先分解item_property_list \n",
    "# import time\n",
    "# s=time.time()\n",
    "\n",
    "\n",
    "# df = ads['item_property_list'].str.split(';',expand=True)\n",
    "\n",
    "# #存储新feature\n",
    "# temp = pd.DataFrame(np.zeros((df.shape[0],1), dtype=int), columns=['compare_ppt'])\n",
    "# for i in range(0, df.shape[0]):\n",
    "#     a=0\n",
    "#     for j in range(0, df.shape[1]):\n",
    "#         if df.loc[i, j] is None:\n",
    "#             pass\n",
    "#         elif df.loc[i, j] not in ads.loc[i,'predict_category_property']:\n",
    "#             pass\n",
    "        \n",
    "#         else:\n",
    "#             a = a+1\n",
    "\n",
    "#     temp.loc[i, 'compare_ppt'] = a\n",
    "\n",
    "\n",
    "# ####插入新feature\n",
    "# ads.insert(15, 'compare_ppt', temp['compare_ppt'])\n",
    "\n",
    "# e=time.time()\n",
    "# print(e-s)\n",
    "# ads.head(2)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'\\n0.853855125781 \\t item_collected_level \\t item_sales_level\\n0.757697254859 \\t item_pv_level \\t item_sales_level\\n0.672120340537 \\t item_pv_level \\t item_collected_level\\n0.999464268562 \\t user_occupation_id \\t user_age_level\\n0.999459654776 \\t user_star_level \\t user_age_level\\n0.999683898893 \\t user_star_level \\t user_occupation_id\\n0.463273190264 \\t shop_review_num_level \\t item_sales_level\\n0.496431056543 \\t shop_review_num_level \\t item_collected_level\\n0.459292574948 \\t shop_star_level \\t item_sales_level\\n0.495633526375 \\t shop_star_level \\t item_collected_level\\n0.986986984301 \\t shop_star_level \\t shop_review_num_level\\n0.994215577652 \\t shop_score_delivery \\t shop_score_service\\n0.46575561048 \\t shop_score_description \\t shop_review_positive_rate\\n0.938355193265 \\t shop_score_description \\t shop_score_service\\n0.931127706876 \\t shop_score_description \\t shop_score_delivery\\n'"
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "##########这个model特别在于跨表格交互项,和上面#删除item_category_list，item_property_list\n",
    "#自身的特征处理与交互项的设计，之后全部扔进模型，判断importance\n",
    "\n",
    "\n",
    "\"\"\"\n",
    "0.853855125781 \t item_collected_level \t item_sales_level\n",
    "0.757697254859 \t item_pv_level \t item_sales_level\n",
    "0.672120340537 \t item_pv_level \t item_collected_level\n",
    "0.999464268562 \t user_occupation_id \t user_age_level\n",
    "0.999459654776 \t user_star_level \t user_age_level\n",
    "0.999683898893 \t user_star_level \t user_occupation_id\n",
    "0.463273190264 \t shop_review_num_level \t item_sales_level\n",
    "0.496431056543 \t shop_review_num_level \t item_collected_level\n",
    "0.459292574948 \t shop_star_level \t item_sales_level\n",
    "0.495633526375 \t shop_star_level \t item_collected_level\n",
    "0.986986984301 \t shop_star_level \t shop_review_num_level\n",
    "0.994215577652 \t shop_score_delivery \t shop_score_service\n",
    "0.46575561048 \t shop_score_description \t shop_review_positive_rate\n",
    "0.938355193265 \t shop_score_description \t shop_score_service\n",
    "0.931127706876 \t shop_score_description \t shop_score_delivery\n",
    "\"\"\"\n",
    "\n",
    "###############################################################################################################\n",
    "###############################################################################################################\n",
    "###############################################################################################################\n",
    "###############################################################################################################\n",
    "###############################################################################################################"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [],
   "source": [
    "# #item几个bin特征工程\n",
    "\n",
    "# #bin操作item_sales_level  0,1-5,6,7,...,14,15-17\n",
    "def bin_sales(num):\n",
    "    if num in [1,2,3,4,5]:\n",
    "        num=3\n",
    "    elif num in[15,16,17]:\n",
    "        num =16\n",
    "    elif num == 0:\n",
    "        num = 1\n",
    "    else:\n",
    "        num = num\n",
    "    return num\n",
    "ads['item_sales_level'] = ads['item_sales_level'].apply(bin_sales)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [],
   "source": [
    "# # item_collected_level   0-2, 3-5, 6-8, 9, 10, ...,15, 16-17\n",
    "def bin_collected(num):\n",
    "    if num in [0,1,2]:\n",
    "        num=1\n",
    "    elif num in[3,4,5]:\n",
    "        num =2\n",
    "    elif num in [6,7,8]:\n",
    "        num = 3\n",
    "    elif num in [16,17]:\n",
    "        num = 11\n",
    "    else:\n",
    "        num = num-5\n",
    "    return num\n",
    "\n",
    "\n",
    "ads['item_collected_level'] = ads['item_collected_level'].apply(bin_collected)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(477147, 34)"
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#################################     对item_property_list 进行聚类     ######################################\n",
    "\n",
    "#用item_property_list列生成新的数据集，用于聚类\n",
    "df = ads['item_property_list'].str.split(';',expand=True)\n",
    "df.columns = [\"property_\"+str (i) for i in range(len(df.columns))]\n",
    "df = df.fillna(-1)\n",
    "\n",
    "#把string格式转换成integer格式来运行聚类算法\n",
    "def toInt(raw_str):\n",
    "    return int(raw_str)\n",
    "\n",
    "temp_x = [df[df.columns[i]].apply(toInt) for i in range(len(df.columns))]\n",
    "\n",
    "#把dataframe变成array作为聚类算法的输入\n",
    "item_property_list = pd.concat(temp_x, axis=1)\n",
    "X = item_property_list.as_matrix()\n",
    "\n",
    "#商品总共14个类别，所以针对property取14个cluster\n",
    "kmeans = KMeans(n_clusters=14)\n",
    "kmeans.fit(X)\n",
    "\n",
    "centroids = kmeans.cluster_centers_\n",
    "labels = kmeans.labels_\n",
    "ads.insert(22, 'property_label', labels)\n",
    "ads.shape"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": false
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "这里直接split然后取list的长度就会快很多，不需要转化成df再数再insert"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>instance_id</th>\n",
       "      <th>item_id</th>\n",
       "      <th>item_category_list</th>\n",
       "      <th>item_property_list</th>\n",
       "      <th>item_brand_id</th>\n",
       "      <th>item_city_id</th>\n",
       "      <th>item_price_level</th>\n",
       "      <th>item_sales_level</th>\n",
       "      <th>item_collected_level</th>\n",
       "      <th>item_pv_level</th>\n",
       "      <th>user_id</th>\n",
       "      <th>user_gender_id</th>\n",
       "      <th>user_age_level</th>\n",
       "      <th>user_occupation_id</th>\n",
       "      <th>user_star_level</th>\n",
       "      <th>context_id</th>\n",
       "      <th>context_timestamp</th>\n",
       "      <th>context_page_id</th>\n",
       "      <th>predict_category_property</th>\n",
       "      <th>shop_id</th>\n",
       "      <th>len_property</th>\n",
       "      <th>len_pred_cat</th>\n",
       "      <th>shop_review_num_level</th>\n",
       "      <th>property_label</th>\n",
       "      <th>shop_review_positive_rate</th>\n",
       "      <th>shop_star_level</th>\n",
       "      <th>shop_score_service</th>\n",
       "      <th>shop_score_delivery</th>\n",
       "      <th>shop_score_description</th>\n",
       "      <th>is_trade</th>\n",
       "      <th>time</th>\n",
       "      <th>day</th>\n",
       "      <th>hour</th>\n",
       "      <th>user_query_day</th>\n",
       "      <th>user_query_day_hour</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>108641074714126964</td>\n",
       "      <td>0</td>\n",
       "      <td>7908382889764677758;5799347067982556520</td>\n",
       "      <td>2072967855524022579;5131280576272319091;263639...</td>\n",
       "      <td>225</td>\n",
       "      <td>33</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>2</td>\n",
       "      <td>14</td>\n",
       "      <td>4505772604969228686</td>\n",
       "      <td>1</td>\n",
       "      <td>1003</td>\n",
       "      <td>2005</td>\n",
       "      <td>3003</td>\n",
       "      <td>282924576738839389</td>\n",
       "      <td>1537236544</td>\n",
       "      <td>4006</td>\n",
       "      <td>5799347067982556520:-1;509660095530134768:-1;5...</td>\n",
       "      <td>6765930309048922341</td>\n",
       "      <td>22</td>\n",
       "      <td>5</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>1.0</td>\n",
       "      <td>5002</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0</td>\n",
       "      <td>2018-09-17 22:09:04</td>\n",
       "      <td>17</td>\n",
       "      <td>22</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "          instance_id  item_id                       item_category_list  \\\n",
       "0  108641074714126964        0  7908382889764677758;5799347067982556520   \n",
       "\n",
       "                                  item_property_list  item_brand_id  \\\n",
       "0  2072967855524022579;5131280576272319091;263639...            225   \n",
       "\n",
       "   item_city_id  item_price_level  item_sales_level  item_collected_level  \\\n",
       "0            33                 3                 3                     2   \n",
       "\n",
       "   item_pv_level              user_id  user_gender_id  user_age_level  \\\n",
       "0             14  4505772604969228686               1            1003   \n",
       "\n",
       "   user_occupation_id  user_star_level          context_id  context_timestamp  \\\n",
       "0                2005             3003  282924576738839389         1537236544   \n",
       "\n",
       "   context_page_id                          predict_category_property  \\\n",
       "0             4006  5799347067982556520:-1;509660095530134768:-1;5...   \n",
       "\n",
       "               shop_id  len_property  len_pred_cat  shop_review_num_level  \\\n",
       "0  6765930309048922341            22             5                      4   \n",
       "\n",
       "   property_label  shop_review_positive_rate  shop_star_level  \\\n",
       "0               4                        1.0             5002   \n",
       "\n",
       "   shop_score_service  shop_score_delivery  shop_score_description  is_trade  \\\n",
       "0                 1.0                  1.0                     1.0         0   \n",
       "\n",
       "                  time  day  hour  user_query_day  user_query_day_hour  \n",
       "0  2018-09-17 22:09:04   17    22               3                    3  "
      ]
     },
     "execution_count": 16,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#########################   item_property_list进行长度分析     #############################################\n",
    "#看每一行长度,越长表明本行越长，商品信息越丰富\n",
    "# df = ads['item_property_list'].str.split(';',expand=True)    #---  takes too long to run\n",
    "# df.columns = [\"property_\"+str (i) for i in range(len(df.columns))]\n",
    "# ads.insert(20, 'len_property', df.count(axis=1) )\n",
    "\n",
    "ads['test_len'] = ads['item_property_list'].str.split(';',expand=False).apply( lambda x: len(x))\n",
    "ads.head(1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [],
   "source": [
    "################################      label   item_category_list     ###################################\n",
    "#函数用来分解item_category_list\n",
    "def split_fst(str1= None):\n",
    "    \"\"\"\n",
    "    this is to split the combined attributes\n",
    "    \"\"\"\n",
    "    if ';' not in str1:\n",
    "        return str1\n",
    "    else:\n",
    "        pos = str1.index(';')\n",
    "        return str1[:pos]\n",
    "\n",
    "\n",
    "def split_snd(str1 = None):\n",
    "    \"\"\"\n",
    "    this is to split the combined attributes\n",
    "    \"\"\"\n",
    "    if ';' not in str1:\n",
    "        return str1\n",
    "    else:\n",
    "        pos = str1.index(';')\n",
    "        return str1[pos+1:]\n",
    "\n",
    "\n",
    "ads['item_category_list'] = ads['item_category_list'].apply(split_snd)\n",
    "ads['item_category_list'] = ads['item_category_list'].apply(split_snd)\n",
    "ads['item_category_list'] = ads['item_category_list'].apply(lambda x: int(x))\n",
    "ads['item_category_list'].unique() \n",
    "\n",
    "\n",
    "\n",
    "#对category进行label encoder\n",
    "le = LabelEncoder()\n",
    "le.fit(ads['item_category_list'].unique())\n",
    "ads['item_category_list'] = le.transform(ads['item_category_list'])\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# 下面开始建模"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>is_trade</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   is_trade\n",
       "0         0\n",
       "1         0"
      ]
     },
     "execution_count": 28,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "X = ads[['item_brand_id', 'item_city_id', 'item_price_level', 'item_sales_level',\n",
    "       'item_collected_level', 'item_pv_level', 'user_gender_id',\n",
    "       'user_age_level', 'user_occupation_id', 'user_star_level',\n",
    "        'context_page_id',\n",
    "       'shop_id', 'shop_review_num_level', 'shop_review_positive_rate',\n",
    "       'property_label','len_property',  'shop_star_level', 'shop_score_service',\n",
    "       'shop_score_delivery', 'shop_score_description',\n",
    "        'hour', 'user_query_day', 'user_query_day_hour','len_pred_cat']]\n",
    "Y = ads[['is_trade']]\n",
    "Y.head(2)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {},
   "outputs": [],
   "source": [
    "seed = 7\n",
    "test_size = 0.25\n",
    "X_train, X_test, Y_train, Y_test = train_test_split(X, Y, test_size=test_size, random_state=seed)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {},
   "outputs": [],
   "source": [
    "##################################     #模型调参主要地方           #####################################\n",
    "# 黄金搭档：\n",
    "# learning_rate = 0.05  0.1\n",
    "# max_depth = 6  7\n",
    "# n_estimators = 500  500\n",
    "\n",
    "def xgb_model(train_data, train_label, test_data, test_label):\n",
    "    clf = XGBClassifier(max_depth=6,\n",
    "                           min_child_weight=1,\n",
    "                           learning_rate=0.02,\n",
    "                           n_estimators=500,\n",
    "                           silent=True,\n",
    "                           objective='binary:logistic',\n",
    "                           gamma=0,\n",
    "                           max_delta_step=0,\n",
    "                           subsample=1,\n",
    "                           colsample_bytree=1,\n",
    "                           colsample_bylevel=1,\n",
    "                           reg_alpha=0,\n",
    "                           reg_lambda=0,\n",
    "                           scale_pos_weight=1,\n",
    "                           seed=1,\n",
    "                           missing=None)\n",
    "    \n",
    "    clf.fit(train_data, train_label, eval_metric='logloss', verbose=True,\n",
    "            eval_set=[(test_data, test_label)], early_stopping_rounds=100)\n",
    "#     Y_pre = clf.predict(test_data)\n",
    "    Y_pro = clf.predict_proba(test_data)[:, 1]\n",
    "\n",
    "    return clf\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[0]\tvalidation_0-logloss:0.674793\n",
      "Will train until validation_0-logloss hasn't improved in 100 rounds.\n",
      "[1]\tvalidation_0-logloss:0.657159\n",
      "[2]\tvalidation_0-logloss:0.640205\n",
      "[3]\tvalidation_0-logloss:0.623893\n",
      "[4]\tvalidation_0-logloss:0.608187\n",
      "[5]\tvalidation_0-logloss:0.593057\n",
      "[6]\tvalidation_0-logloss:0.578473\n",
      "[7]\tvalidation_0-logloss:0.564409\n",
      "[8]\tvalidation_0-logloss:0.550837\n",
      "[9]\tvalidation_0-logloss:0.537735\n",
      "[10]\tvalidation_0-logloss:0.52508\n",
      "[11]\tvalidation_0-logloss:0.512853\n",
      "[12]\tvalidation_0-logloss:0.501032\n",
      "[13]\tvalidation_0-logloss:0.4896\n",
      "[14]\tvalidation_0-logloss:0.478541\n",
      "[15]\tvalidation_0-logloss:0.467836\n",
      "[16]\tvalidation_0-logloss:0.457473\n",
      "[17]\tvalidation_0-logloss:0.447436\n",
      "[18]\tvalidation_0-logloss:0.437712\n",
      "[19]\tvalidation_0-logloss:0.428289\n",
      "[20]\tvalidation_0-logloss:0.419154\n",
      "[21]\tvalidation_0-logloss:0.410297\n",
      "[22]\tvalidation_0-logloss:0.401706\n",
      "[23]\tvalidation_0-logloss:0.393373\n",
      "[24]\tvalidation_0-logloss:0.385285\n",
      "[25]\tvalidation_0-logloss:0.377436\n",
      "[26]\tvalidation_0-logloss:0.369816\n",
      "[27]\tvalidation_0-logloss:0.362417\n",
      "[28]\tvalidation_0-logloss:0.35523\n",
      "[29]\tvalidation_0-logloss:0.348248\n",
      "[30]\tvalidation_0-logloss:0.341464\n",
      "[31]\tvalidation_0-logloss:0.334873\n",
      "[32]\tvalidation_0-logloss:0.328465\n",
      "[33]\tvalidation_0-logloss:0.322236\n",
      "[34]\tvalidation_0-logloss:0.316181\n",
      "[35]\tvalidation_0-logloss:0.310292\n",
      "[36]\tvalidation_0-logloss:0.304565\n",
      "[37]\tvalidation_0-logloss:0.298993\n",
      "[38]\tvalidation_0-logloss:0.293573\n",
      "[39]\tvalidation_0-logloss:0.288299\n",
      "[40]\tvalidation_0-logloss:0.283168\n",
      "[41]\tvalidation_0-logloss:0.278174\n",
      "[42]\tvalidation_0-logloss:0.273313\n",
      "[43]\tvalidation_0-logloss:0.26858\n",
      "[44]\tvalidation_0-logloss:0.263974\n",
      "[45]\tvalidation_0-logloss:0.259489\n",
      "[46]\tvalidation_0-logloss:0.255122\n",
      "[47]\tvalidation_0-logloss:0.250868\n",
      "[48]\tvalidation_0-logloss:0.246727\n",
      "[49]\tvalidation_0-logloss:0.242693\n",
      "[50]\tvalidation_0-logloss:0.238763\n",
      "[51]\tvalidation_0-logloss:0.234935\n",
      "[52]\tvalidation_0-logloss:0.231204\n",
      "[53]\tvalidation_0-logloss:0.227571\n",
      "[54]\tvalidation_0-logloss:0.224031\n",
      "[55]\tvalidation_0-logloss:0.22058\n",
      "[56]\tvalidation_0-logloss:0.217218\n",
      "[57]\tvalidation_0-logloss:0.213941\n",
      "[58]\tvalidation_0-logloss:0.210749\n",
      "[59]\tvalidation_0-logloss:0.207638\n",
      "[60]\tvalidation_0-logloss:0.204605\n",
      "[61]\tvalidation_0-logloss:0.201649\n",
      "[62]\tvalidation_0-logloss:0.198766\n",
      "[63]\tvalidation_0-logloss:0.195957\n",
      "[64]\tvalidation_0-logloss:0.193219\n",
      "[65]\tvalidation_0-logloss:0.190548\n",
      "[66]\tvalidation_0-logloss:0.187946\n",
      "[67]\tvalidation_0-logloss:0.185408\n",
      "[68]\tvalidation_0-logloss:0.182934\n",
      "[69]\tvalidation_0-logloss:0.180521\n",
      "[70]\tvalidation_0-logloss:0.178168\n",
      "[71]\tvalidation_0-logloss:0.175874\n",
      "[72]\tvalidation_0-logloss:0.173637\n",
      "[73]\tvalidation_0-logloss:0.171455\n",
      "[74]\tvalidation_0-logloss:0.169327\n",
      "[75]\tvalidation_0-logloss:0.167253\n",
      "[76]\tvalidation_0-logloss:0.165231\n",
      "[77]\tvalidation_0-logloss:0.163258\n",
      "[78]\tvalidation_0-logloss:0.161336\n",
      "[79]\tvalidation_0-logloss:0.15946\n",
      "[80]\tvalidation_0-logloss:0.157631\n",
      "[81]\tvalidation_0-logloss:0.155848\n",
      "[82]\tvalidation_0-logloss:0.154108\n",
      "[83]\tvalidation_0-logloss:0.15241\n",
      "[84]\tvalidation_0-logloss:0.150757\n",
      "[85]\tvalidation_0-logloss:0.149144\n",
      "[86]\tvalidation_0-logloss:0.147572\n",
      "[87]\tvalidation_0-logloss:0.146037\n",
      "[88]\tvalidation_0-logloss:0.144542\n",
      "[89]\tvalidation_0-logloss:0.143082\n",
      "[90]\tvalidation_0-logloss:0.141658\n",
      "[91]\tvalidation_0-logloss:0.140271\n",
      "[92]\tvalidation_0-logloss:0.138918\n",
      "[93]\tvalidation_0-logloss:0.137598\n",
      "[94]\tvalidation_0-logloss:0.136312\n",
      "[95]\tvalidation_0-logloss:0.135057\n",
      "[96]\tvalidation_0-logloss:0.133833\n",
      "[97]\tvalidation_0-logloss:0.132641\n",
      "[98]\tvalidation_0-logloss:0.131478\n",
      "[99]\tvalidation_0-logloss:0.130344\n",
      "[100]\tvalidation_0-logloss:0.129239\n",
      "[101]\tvalidation_0-logloss:0.12816\n",
      "[102]\tvalidation_0-logloss:0.127108\n",
      "[103]\tvalidation_0-logloss:0.126083\n",
      "[104]\tvalidation_0-logloss:0.125083\n",
      "[105]\tvalidation_0-logloss:0.124107\n",
      "[106]\tvalidation_0-logloss:0.123158\n",
      "[107]\tvalidation_0-logloss:0.122231\n",
      "[108]\tvalidation_0-logloss:0.121328\n",
      "[109]\tvalidation_0-logloss:0.120448\n",
      "[110]\tvalidation_0-logloss:0.119589\n",
      "[111]\tvalidation_0-logloss:0.118752\n",
      "[112]\tvalidation_0-logloss:0.117936\n",
      "[113]\tvalidation_0-logloss:0.117144\n",
      "[114]\tvalidation_0-logloss:0.116368\n",
      "[115]\tvalidation_0-logloss:0.115614\n",
      "[116]\tvalidation_0-logloss:0.114879\n",
      "[117]\tvalidation_0-logloss:0.114161\n",
      "[118]\tvalidation_0-logloss:0.113462\n",
      "[119]\tvalidation_0-logloss:0.112783\n",
      "[120]\tvalidation_0-logloss:0.11212\n",
      "[121]\tvalidation_0-logloss:0.111473\n",
      "[122]\tvalidation_0-logloss:0.110843\n",
      "[123]\tvalidation_0-logloss:0.110228\n",
      "[124]\tvalidation_0-logloss:0.10963\n",
      "[125]\tvalidation_0-logloss:0.109046\n",
      "[126]\tvalidation_0-logloss:0.108481\n",
      "[127]\tvalidation_0-logloss:0.107929\n",
      "[128]\tvalidation_0-logloss:0.10739\n",
      "[129]\tvalidation_0-logloss:0.106867\n",
      "[130]\tvalidation_0-logloss:0.106356\n",
      "[131]\tvalidation_0-logloss:0.105858\n",
      "[132]\tvalidation_0-logloss:0.105374\n",
      "[133]\tvalidation_0-logloss:0.104901\n",
      "[134]\tvalidation_0-logloss:0.104442\n",
      "[135]\tvalidation_0-logloss:0.103994\n",
      "[136]\tvalidation_0-logloss:0.103559\n",
      "[137]\tvalidation_0-logloss:0.103133\n",
      "[138]\tvalidation_0-logloss:0.102717\n",
      "[139]\tvalidation_0-logloss:0.102317\n",
      "[140]\tvalidation_0-logloss:0.101926\n",
      "[141]\tvalidation_0-logloss:0.101544\n",
      "[142]\tvalidation_0-logloss:0.101172\n",
      "[143]\tvalidation_0-logloss:0.100808\n",
      "[144]\tvalidation_0-logloss:0.100455\n",
      "[145]\tvalidation_0-logloss:0.100113\n",
      "[146]\tvalidation_0-logloss:0.099778\n",
      "[147]\tvalidation_0-logloss:0.099454\n",
      "[148]\tvalidation_0-logloss:0.099139\n",
      "[149]\tvalidation_0-logloss:0.098831\n",
      "[150]\tvalidation_0-logloss:0.098531\n",
      "[151]\tvalidation_0-logloss:0.098241\n",
      "[152]\tvalidation_0-logloss:0.097958\n",
      "[153]\tvalidation_0-logloss:0.097681\n",
      "[154]\tvalidation_0-logloss:0.097413\n",
      "[155]\tvalidation_0-logloss:0.097152\n",
      "[156]\tvalidation_0-logloss:0.096897\n",
      "[157]\tvalidation_0-logloss:0.096651\n",
      "[158]\tvalidation_0-logloss:0.096411\n",
      "[159]\tvalidation_0-logloss:0.096178\n",
      "[160]\tvalidation_0-logloss:0.09595\n",
      "[161]\tvalidation_0-logloss:0.095728\n",
      "[162]\tvalidation_0-logloss:0.095514\n",
      "[163]\tvalidation_0-logloss:0.095302\n",
      "[164]\tvalidation_0-logloss:0.095099\n",
      "[165]\tvalidation_0-logloss:0.094901\n",
      "[166]\tvalidation_0-logloss:0.094708\n",
      "[167]\tvalidation_0-logloss:0.09452\n",
      "[168]\tvalidation_0-logloss:0.094339\n",
      "[169]\tvalidation_0-logloss:0.094162\n",
      "[170]\tvalidation_0-logloss:0.093992\n",
      "[171]\tvalidation_0-logloss:0.093825\n",
      "[172]\tvalidation_0-logloss:0.093662\n",
      "[173]\tvalidation_0-logloss:0.093503\n",
      "[174]\tvalidation_0-logloss:0.093348\n",
      "[175]\tvalidation_0-logloss:0.093201\n",
      "[176]\tvalidation_0-logloss:0.093055\n",
      "[177]\tvalidation_0-logloss:0.092913\n",
      "[178]\tvalidation_0-logloss:0.092776\n",
      "[179]\tvalidation_0-logloss:0.092641\n",
      "[180]\tvalidation_0-logloss:0.092511\n",
      "[181]\tvalidation_0-logloss:0.092386\n",
      "[182]\tvalidation_0-logloss:0.092267\n",
      "[183]\tvalidation_0-logloss:0.092146\n",
      "[184]\tvalidation_0-logloss:0.092032\n",
      "[185]\tvalidation_0-logloss:0.091919\n",
      "[186]\tvalidation_0-logloss:0.091811\n",
      "[187]\tvalidation_0-logloss:0.091706\n",
      "[188]\tvalidation_0-logloss:0.091602\n",
      "[189]\tvalidation_0-logloss:0.091503\n",
      "[190]\tvalidation_0-logloss:0.091408\n",
      "[191]\tvalidation_0-logloss:0.091315\n",
      "[192]\tvalidation_0-logloss:0.091225\n",
      "[193]\tvalidation_0-logloss:0.091138\n",
      "[194]\tvalidation_0-logloss:0.091053\n",
      "[195]\tvalidation_0-logloss:0.090967\n",
      "[196]\tvalidation_0-logloss:0.09088\n",
      "[197]\tvalidation_0-logloss:0.0908\n",
      "[198]\tvalidation_0-logloss:0.090719\n",
      "[199]\tvalidation_0-logloss:0.090645\n",
      "[200]\tvalidation_0-logloss:0.09057\n",
      "[201]\tvalidation_0-logloss:0.090499\n",
      "[202]\tvalidation_0-logloss:0.09043\n",
      "[203]\tvalidation_0-logloss:0.090364\n",
      "[204]\tvalidation_0-logloss:0.090297\n",
      "[205]\tvalidation_0-logloss:0.090234\n",
      "[206]\tvalidation_0-logloss:0.090171\n",
      "[207]\tvalidation_0-logloss:0.090111\n",
      "[208]\tvalidation_0-logloss:0.090053\n",
      "[209]\tvalidation_0-logloss:0.089996\n",
      "[210]\tvalidation_0-logloss:0.089938\n",
      "[211]\tvalidation_0-logloss:0.089879\n",
      "[212]\tvalidation_0-logloss:0.089825\n",
      "[213]\tvalidation_0-logloss:0.089774\n",
      "[214]\tvalidation_0-logloss:0.08972\n",
      "[215]\tvalidation_0-logloss:0.089668\n",
      "[216]\tvalidation_0-logloss:0.089619\n",
      "[217]\tvalidation_0-logloss:0.089565\n",
      "[218]\tvalidation_0-logloss:0.089521\n",
      "[219]\tvalidation_0-logloss:0.089478\n",
      "[220]\tvalidation_0-logloss:0.089428\n",
      "[221]\tvalidation_0-logloss:0.089391\n",
      "[222]\tvalidation_0-logloss:0.089343\n",
      "[223]\tvalidation_0-logloss:0.0893\n",
      "[224]\tvalidation_0-logloss:0.089266\n",
      "[225]\tvalidation_0-logloss:0.089225\n",
      "[226]\tvalidation_0-logloss:0.089184\n",
      "[227]\tvalidation_0-logloss:0.089152\n",
      "[228]\tvalidation_0-logloss:0.089114\n",
      "[229]\tvalidation_0-logloss:0.08908\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[230]\tvalidation_0-logloss:0.089042\n",
      "[231]\tvalidation_0-logloss:0.089014\n",
      "[232]\tvalidation_0-logloss:0.088982\n",
      "[233]\tvalidation_0-logloss:0.088951\n",
      "[234]\tvalidation_0-logloss:0.088921\n",
      "[235]\tvalidation_0-logloss:0.088891\n",
      "[236]\tvalidation_0-logloss:0.088862\n",
      "[237]\tvalidation_0-logloss:0.088834\n",
      "[238]\tvalidation_0-logloss:0.08881\n",
      "[239]\tvalidation_0-logloss:0.088783\n",
      "[240]\tvalidation_0-logloss:0.088756\n",
      "[241]\tvalidation_0-logloss:0.088728\n",
      "[242]\tvalidation_0-logloss:0.088703\n",
      "[243]\tvalidation_0-logloss:0.08868\n",
      "[244]\tvalidation_0-logloss:0.088657\n",
      "[245]\tvalidation_0-logloss:0.088636\n",
      "[246]\tvalidation_0-logloss:0.088612\n",
      "[247]\tvalidation_0-logloss:0.08859\n",
      "[248]\tvalidation_0-logloss:0.088568\n",
      "[249]\tvalidation_0-logloss:0.088551\n",
      "[250]\tvalidation_0-logloss:0.088532\n",
      "[251]\tvalidation_0-logloss:0.088513\n",
      "[252]\tvalidation_0-logloss:0.088493\n",
      "[253]\tvalidation_0-logloss:0.088475\n",
      "[254]\tvalidation_0-logloss:0.088457\n",
      "[255]\tvalidation_0-logloss:0.088439\n",
      "[256]\tvalidation_0-logloss:0.088424\n",
      "[257]\tvalidation_0-logloss:0.088405\n",
      "[258]\tvalidation_0-logloss:0.088392\n",
      "[259]\tvalidation_0-logloss:0.088377\n",
      "[260]\tvalidation_0-logloss:0.088362\n",
      "[261]\tvalidation_0-logloss:0.088346\n",
      "[262]\tvalidation_0-logloss:0.088332\n",
      "[263]\tvalidation_0-logloss:0.088314\n",
      "[264]\tvalidation_0-logloss:0.088298\n",
      "[265]\tvalidation_0-logloss:0.088285\n",
      "[266]\tvalidation_0-logloss:0.088273\n",
      "[267]\tvalidation_0-logloss:0.088259\n",
      "[268]\tvalidation_0-logloss:0.08825\n",
      "[269]\tvalidation_0-logloss:0.088239\n",
      "[270]\tvalidation_0-logloss:0.088222\n",
      "[271]\tvalidation_0-logloss:0.088207\n",
      "[272]\tvalidation_0-logloss:0.088193\n",
      "[273]\tvalidation_0-logloss:0.088182\n",
      "[274]\tvalidation_0-logloss:0.08817\n",
      "[275]\tvalidation_0-logloss:0.088159\n",
      "[276]\tvalidation_0-logloss:0.088145\n",
      "[277]\tvalidation_0-logloss:0.088132\n",
      "[278]\tvalidation_0-logloss:0.088123\n",
      "[279]\tvalidation_0-logloss:0.088113\n",
      "[280]\tvalidation_0-logloss:0.088099\n",
      "[281]\tvalidation_0-logloss:0.088085\n",
      "[282]\tvalidation_0-logloss:0.088072\n",
      "[283]\tvalidation_0-logloss:0.088064\n",
      "[284]\tvalidation_0-logloss:0.088056\n",
      "[285]\tvalidation_0-logloss:0.088046\n",
      "[286]\tvalidation_0-logloss:0.088038\n",
      "[287]\tvalidation_0-logloss:0.088032\n",
      "[288]\tvalidation_0-logloss:0.088023\n",
      "[289]\tvalidation_0-logloss:0.088016\n",
      "[290]\tvalidation_0-logloss:0.088007\n",
      "[291]\tvalidation_0-logloss:0.088001\n",
      "[292]\tvalidation_0-logloss:0.087997\n",
      "[293]\tvalidation_0-logloss:0.08799\n",
      "[294]\tvalidation_0-logloss:0.087985\n",
      "[295]\tvalidation_0-logloss:0.087979\n",
      "[296]\tvalidation_0-logloss:0.087973\n",
      "[297]\tvalidation_0-logloss:0.087964\n",
      "[298]\tvalidation_0-logloss:0.087957\n",
      "[299]\tvalidation_0-logloss:0.087951\n",
      "[300]\tvalidation_0-logloss:0.087947\n",
      "[301]\tvalidation_0-logloss:0.087936\n",
      "[302]\tvalidation_0-logloss:0.087928\n",
      "[303]\tvalidation_0-logloss:0.087921\n",
      "[304]\tvalidation_0-logloss:0.087919\n",
      "[305]\tvalidation_0-logloss:0.087913\n",
      "[306]\tvalidation_0-logloss:0.087907\n",
      "[307]\tvalidation_0-logloss:0.087903\n",
      "[308]\tvalidation_0-logloss:0.087898\n",
      "[309]\tvalidation_0-logloss:0.087893\n",
      "[310]\tvalidation_0-logloss:0.087886\n",
      "[311]\tvalidation_0-logloss:0.087884\n",
      "[312]\tvalidation_0-logloss:0.087877\n",
      "[313]\tvalidation_0-logloss:0.087872\n",
      "[314]\tvalidation_0-logloss:0.087869\n",
      "[315]\tvalidation_0-logloss:0.087862\n",
      "[316]\tvalidation_0-logloss:0.087855\n",
      "[317]\tvalidation_0-logloss:0.087849\n",
      "[318]\tvalidation_0-logloss:0.087845\n",
      "[319]\tvalidation_0-logloss:0.08784\n",
      "[320]\tvalidation_0-logloss:0.087835\n",
      "[321]\tvalidation_0-logloss:0.087829\n",
      "[322]\tvalidation_0-logloss:0.087828\n",
      "[323]\tvalidation_0-logloss:0.087824\n",
      "[324]\tvalidation_0-logloss:0.087817\n",
      "[325]\tvalidation_0-logloss:0.087815\n",
      "[326]\tvalidation_0-logloss:0.087814\n",
      "[327]\tvalidation_0-logloss:0.087813\n",
      "[328]\tvalidation_0-logloss:0.08781\n",
      "[329]\tvalidation_0-logloss:0.087806\n",
      "[330]\tvalidation_0-logloss:0.087806\n",
      "[331]\tvalidation_0-logloss:0.087801\n",
      "[332]\tvalidation_0-logloss:0.087796\n",
      "[333]\tvalidation_0-logloss:0.087794\n",
      "[334]\tvalidation_0-logloss:0.087792\n",
      "[335]\tvalidation_0-logloss:0.08779\n",
      "[336]\tvalidation_0-logloss:0.087788\n",
      "[337]\tvalidation_0-logloss:0.087786\n",
      "[338]\tvalidation_0-logloss:0.087782\n",
      "[339]\tvalidation_0-logloss:0.087775\n",
      "[340]\tvalidation_0-logloss:0.087773\n",
      "[341]\tvalidation_0-logloss:0.087772\n",
      "[342]\tvalidation_0-logloss:0.08777\n",
      "[343]\tvalidation_0-logloss:0.087767\n",
      "[344]\tvalidation_0-logloss:0.087766\n",
      "[345]\tvalidation_0-logloss:0.08776\n",
      "[346]\tvalidation_0-logloss:0.087759\n",
      "[347]\tvalidation_0-logloss:0.087754\n",
      "[348]\tvalidation_0-logloss:0.087748\n",
      "[349]\tvalidation_0-logloss:0.087747\n",
      "[350]\tvalidation_0-logloss:0.087743\n",
      "[351]\tvalidation_0-logloss:0.08774\n",
      "[352]\tvalidation_0-logloss:0.087735\n",
      "[353]\tvalidation_0-logloss:0.087733\n",
      "[354]\tvalidation_0-logloss:0.087732\n",
      "[355]\tvalidation_0-logloss:0.087729\n",
      "[356]\tvalidation_0-logloss:0.087725\n",
      "[357]\tvalidation_0-logloss:0.08772\n",
      "[358]\tvalidation_0-logloss:0.08772\n",
      "[359]\tvalidation_0-logloss:0.087719\n",
      "[360]\tvalidation_0-logloss:0.087713\n",
      "[361]\tvalidation_0-logloss:0.087709\n",
      "[362]\tvalidation_0-logloss:0.087704\n",
      "[363]\tvalidation_0-logloss:0.087701\n",
      "[364]\tvalidation_0-logloss:0.0877\n",
      "[365]\tvalidation_0-logloss:0.087699\n",
      "[366]\tvalidation_0-logloss:0.087696\n",
      "[367]\tvalidation_0-logloss:0.08769\n",
      "[368]\tvalidation_0-logloss:0.087688\n",
      "[369]\tvalidation_0-logloss:0.087687\n",
      "[370]\tvalidation_0-logloss:0.087685\n",
      "[371]\tvalidation_0-logloss:0.087685\n",
      "[372]\tvalidation_0-logloss:0.087684\n",
      "[373]\tvalidation_0-logloss:0.087682\n",
      "[374]\tvalidation_0-logloss:0.087683\n",
      "[375]\tvalidation_0-logloss:0.08768\n",
      "[376]\tvalidation_0-logloss:0.087676\n",
      "[377]\tvalidation_0-logloss:0.087674\n",
      "[378]\tvalidation_0-logloss:0.087671\n",
      "[379]\tvalidation_0-logloss:0.087671\n",
      "[380]\tvalidation_0-logloss:0.087669\n",
      "[381]\tvalidation_0-logloss:0.087667\n",
      "[382]\tvalidation_0-logloss:0.087665\n",
      "[383]\tvalidation_0-logloss:0.087665\n",
      "[384]\tvalidation_0-logloss:0.087662\n",
      "[385]\tvalidation_0-logloss:0.087662\n",
      "[386]\tvalidation_0-logloss:0.087662\n",
      "[387]\tvalidation_0-logloss:0.08766\n",
      "[388]\tvalidation_0-logloss:0.087661\n",
      "[389]\tvalidation_0-logloss:0.087663\n",
      "[390]\tvalidation_0-logloss:0.087659\n",
      "[391]\tvalidation_0-logloss:0.087659\n",
      "[392]\tvalidation_0-logloss:0.087658\n",
      "[393]\tvalidation_0-logloss:0.087655\n",
      "[394]\tvalidation_0-logloss:0.087655\n",
      "[395]\tvalidation_0-logloss:0.087655\n",
      "[396]\tvalidation_0-logloss:0.087654\n",
      "[397]\tvalidation_0-logloss:0.087654\n",
      "[398]\tvalidation_0-logloss:0.087654\n",
      "[399]\tvalidation_0-logloss:0.087651\n",
      "[400]\tvalidation_0-logloss:0.08765\n",
      "[401]\tvalidation_0-logloss:0.087649\n",
      "[402]\tvalidation_0-logloss:0.08765\n",
      "[403]\tvalidation_0-logloss:0.087648\n",
      "[404]\tvalidation_0-logloss:0.087647\n",
      "[405]\tvalidation_0-logloss:0.087646\n",
      "[406]\tvalidation_0-logloss:0.087647\n",
      "[407]\tvalidation_0-logloss:0.087645\n",
      "[408]\tvalidation_0-logloss:0.087644\n",
      "[409]\tvalidation_0-logloss:0.087643\n",
      "[410]\tvalidation_0-logloss:0.087643\n",
      "[411]\tvalidation_0-logloss:0.087641\n",
      "[412]\tvalidation_0-logloss:0.087639\n",
      "[413]\tvalidation_0-logloss:0.087637\n",
      "[414]\tvalidation_0-logloss:0.087636\n",
      "[415]\tvalidation_0-logloss:0.087636\n",
      "[416]\tvalidation_0-logloss:0.087635\n",
      "[417]\tvalidation_0-logloss:0.087636\n",
      "[418]\tvalidation_0-logloss:0.087636\n",
      "[419]\tvalidation_0-logloss:0.087635\n",
      "[420]\tvalidation_0-logloss:0.087636\n",
      "[421]\tvalidation_0-logloss:0.087636\n",
      "[422]\tvalidation_0-logloss:0.087636\n",
      "[423]\tvalidation_0-logloss:0.087634\n",
      "[424]\tvalidation_0-logloss:0.087634\n",
      "[425]\tvalidation_0-logloss:0.087633\n",
      "[426]\tvalidation_0-logloss:0.087632\n",
      "[427]\tvalidation_0-logloss:0.087631\n",
      "[428]\tvalidation_0-logloss:0.087631\n",
      "[429]\tvalidation_0-logloss:0.087629\n",
      "[430]\tvalidation_0-logloss:0.087628\n",
      "[431]\tvalidation_0-logloss:0.087627\n",
      "[432]\tvalidation_0-logloss:0.087627\n",
      "[433]\tvalidation_0-logloss:0.087626\n",
      "[434]\tvalidation_0-logloss:0.087627\n",
      "[435]\tvalidation_0-logloss:0.087625\n",
      "[436]\tvalidation_0-logloss:0.087626\n",
      "[437]\tvalidation_0-logloss:0.087627\n",
      "[438]\tvalidation_0-logloss:0.087624\n",
      "[439]\tvalidation_0-logloss:0.087626\n",
      "[440]\tvalidation_0-logloss:0.087625\n",
      "[441]\tvalidation_0-logloss:0.087626\n",
      "[442]\tvalidation_0-logloss:0.087624\n",
      "[443]\tvalidation_0-logloss:0.087623\n",
      "[444]\tvalidation_0-logloss:0.087623\n",
      "[445]\tvalidation_0-logloss:0.087622\n",
      "[446]\tvalidation_0-logloss:0.087621\n",
      "[447]\tvalidation_0-logloss:0.087621\n",
      "[448]\tvalidation_0-logloss:0.087621\n",
      "[449]\tvalidation_0-logloss:0.087621\n",
      "[450]\tvalidation_0-logloss:0.08762\n",
      "[451]\tvalidation_0-logloss:0.08762\n",
      "[452]\tvalidation_0-logloss:0.087619\n",
      "[453]\tvalidation_0-logloss:0.087618\n",
      "[454]\tvalidation_0-logloss:0.087618\n",
      "[455]\tvalidation_0-logloss:0.087616\n",
      "[456]\tvalidation_0-logloss:0.087617\n",
      "[457]\tvalidation_0-logloss:0.087617\n",
      "[458]\tvalidation_0-logloss:0.087616\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[459]\tvalidation_0-logloss:0.087615\n",
      "[460]\tvalidation_0-logloss:0.087614\n",
      "[461]\tvalidation_0-logloss:0.087614\n",
      "[462]\tvalidation_0-logloss:0.087614\n",
      "[463]\tvalidation_0-logloss:0.087615\n",
      "[464]\tvalidation_0-logloss:0.087616\n",
      "[465]\tvalidation_0-logloss:0.087615\n",
      "[466]\tvalidation_0-logloss:0.087617\n",
      "[467]\tvalidation_0-logloss:0.087618\n",
      "[468]\tvalidation_0-logloss:0.087617\n",
      "[469]\tvalidation_0-logloss:0.087617\n",
      "[470]\tvalidation_0-logloss:0.087617\n",
      "[471]\tvalidation_0-logloss:0.087616\n",
      "[472]\tvalidation_0-logloss:0.087616\n",
      "[473]\tvalidation_0-logloss:0.087616\n",
      "[474]\tvalidation_0-logloss:0.087616\n",
      "[475]\tvalidation_0-logloss:0.087615\n",
      "[476]\tvalidation_0-logloss:0.087614\n",
      "[477]\tvalidation_0-logloss:0.087615\n",
      "[478]\tvalidation_0-logloss:0.087615\n",
      "[479]\tvalidation_0-logloss:0.087614\n",
      "[480]\tvalidation_0-logloss:0.087612\n",
      "[481]\tvalidation_0-logloss:0.087612\n",
      "[482]\tvalidation_0-logloss:0.087613\n",
      "[483]\tvalidation_0-logloss:0.087612\n",
      "[484]\tvalidation_0-logloss:0.087611\n",
      "[485]\tvalidation_0-logloss:0.087611\n",
      "[486]\tvalidation_0-logloss:0.08761\n",
      "[487]\tvalidation_0-logloss:0.08761\n",
      "[488]\tvalidation_0-logloss:0.08761\n",
      "[489]\tvalidation_0-logloss:0.087611\n",
      "[490]\tvalidation_0-logloss:0.08761\n",
      "[491]\tvalidation_0-logloss:0.087609\n",
      "[492]\tvalidation_0-logloss:0.087611\n",
      "[493]\tvalidation_0-logloss:0.087611\n",
      "[494]\tvalidation_0-logloss:0.087611\n",
      "[495]\tvalidation_0-logloss:0.087611\n",
      "[496]\tvalidation_0-logloss:0.08761\n",
      "[497]\tvalidation_0-logloss:0.08761\n",
      "[498]\tvalidation_0-logloss:0.08761\n",
      "[499]\tvalidation_0-logloss:0.087608\n"
     ]
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "model_all = xgb_model(X_train,Y_train, X_test,  Y_test)\n",
    "\n",
    "plot_importance(model_all)   #feature重要程度\n",
    "pyplot.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Lasso Regression"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 60,
   "metadata": {},
   "outputs": [],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "\n",
    "from sklearn import datasets\n",
    "from sklearn.linear_model import LassoCV\n",
    "from sklearn.linear_model import Lasso\n",
    "from sklearn.model_selection import KFold\n",
    "from sklearn.model_selection import GridSearchCV"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 65,
   "metadata": {},
   "outputs": [],
   "source": [
    "ads_test = ads.sample(frac=0.2)\n",
    "\n",
    "X_l = ads_test[['item_brand_id', 'item_city_id', 'item_price_level', 'item_sales_level',\n",
    "       'item_collected_level', 'item_pv_level', 'user_gender_id',\n",
    "       'user_age_level', 'user_occupation_id', 'user_star_level',\n",
    "        'context_page_id',\n",
    "       'shop_id', 'shop_review_num_level', 'shop_review_positive_rate',\n",
    "       'property_label','len_property',  'shop_star_level', 'shop_score_service',\n",
    "       'shop_score_delivery', 'shop_score_description',\n",
    "        'hour', 'user_query_day', 'user_query_day_hour','len_pred_cat']]\n",
    "Y_l = ads_test[['is_trade']]\n",
    "\n",
    "seed = 7\n",
    "test_size = 0.25\n",
    "X_train1, X_test1, Y_train1, Y_test1 = train_test_split(X_l, Y_l, test_size=test_size, random_state=seed)\n",
    "\n",
    "\n",
    "\n",
    "lasso = Lasso(random_state=0)\n",
    "alphas = np.logspace(-4, -0.5, 30)\n",
    "\n",
    "tuned_parameters = [{'alpha': alphas}]\n",
    "n_folds = 3\n",
    "\n",
    "clf = GridSearchCV(lasso, tuned_parameters, cv=n_folds, refit=False)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 66,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "GridSearchCV(cv=3, error_score='raise',\n",
       "       estimator=Lasso(alpha=1.0, copy_X=True, fit_intercept=True, max_iter=1000,\n",
       "   normalize=False, positive=False, precompute=False, random_state=0,\n",
       "   selection='cyclic', tol=0.0001, warm_start=False),\n",
       "       fit_params=None, iid=True, n_jobs=1,\n",
       "       param_grid=[{'alpha': array([1.00000e-04, 1.32035e-04, 1.74333e-04, 2.30181e-04, 3.03920e-04,\n",
       "       4.01281e-04, 5.29832e-04, 6.99564e-04, 9.23671e-04, 1.21957e-03,\n",
       "       1.61026e-03, 2.12611e-03, 2.80722e-03, 3.70651e-03, 4.89390e-03,\n",
       "       6.46167e-03, 8.53168e-03, 1.12648e-02, 1.48735e-02, 1.96383e-02,\n",
       "       2.59294e-02, 3.42360e-02, 4.52035e-02, 5.96846e-02, 7.88046e-02,\n",
       "       1.04050e-01, 1.37382e-01, 1.81393e-01, 2.39503e-01, 3.16228e-01])}],\n",
       "       pre_dispatch='2*n_jobs', refit=False, return_train_score='warn',\n",
       "       scoring=None, verbose=0)"
      ]
     },
     "execution_count": 66,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "clf.fit(X_train1,Y_train1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 67,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[<matplotlib.lines.Line2D at 0x133c15550>]"
      ]
     },
     "execution_count": 67,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 576x432 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "scores = clf.cv_results_['mean_test_score']\n",
    "scores_std = clf.cv_results_['std_test_score']\n",
    "plt.figure().set_size_inches(8, 6)\n",
    "plt.semilogx(alphas, scores)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 88,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Lasso model:  -0.004 * X2 + 0.001 * X3 + -0.001 * X22 + -0.0 * X21 + -0.0 * X12 + 0.0 * X20 + 0.0 * X7 + -0.0 * X10 + 0.0 * X15 + -0.0 * X1 + -0.0 * X0 + -0.0 * X11 + -0.0 * X4 + -0.0 * X5 + 0.0 * X6 + -0.0 * X8 + 0.0 * X9 + -0.0 * X13 + -0.0 * X14 + -0.0 * X16 + -0.0 * X17 + -0.0 * X18 + -0.0 * X19 + 0.0 * X23\n"
     ]
    }
   ],
   "source": [
    "def pretty_print_linear(coefs, names = None, sort = False):\n",
    "    if names == None:\n",
    "        names = [\"X%s\" % x for x in range(len(coefs))]\n",
    "    lst = zip(coefs, names)\n",
    "    if sort:\n",
    "        lst = sorted(lst,  key = lambda x:-np.abs(x[0]))\n",
    "    return \" + \".join(\"%s * %s\" % (round(coef, 3), name)\n",
    "                                   for coef, name in lst)\n",
    "\n",
    "\n",
    "seed = 7\n",
    "test_size = 0.25\n",
    "X_train1, X_test1, Y_train1, Y_test1 = train_test_split(X_l, Y_l, test_size=test_size, random_state=seed)\n",
    "\n",
    "lasso = Lasso(alpha=.003)\n",
    "\n",
    "lasso.fit(X_train1, Y_train1)\n",
    "  \n",
    "print (\"Lasso model: \", pretty_print_linear(lasso.coef_, names=None, sort = True))\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 101,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "0.0067532701610794055\n",
      "0.0064999544422497104\n",
      "0.00155327923589621\n",
      "3.604534355128308e-05\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Feature Name</th>\n",
       "      <th>Alpha = 0.000100</th>\n",
       "      <th>Alpha = 0.001000</th>\n",
       "      <th>Alpha = 0.010000</th>\n",
       "      <th>Alpha = 0.100000</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>item_brand_id</td>\n",
       "      <td>-2.891139e-06</td>\n",
       "      <td>-2.976878e-06</td>\n",
       "      <td>-2.060906e-06</td>\n",
       "      <td>-6.895974e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>item_city_id</td>\n",
       "      <td>-7.654495e-06</td>\n",
       "      <td>-2.081594e-05</td>\n",
       "      <td>-8.414619e-05</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>item_price_level</td>\n",
       "      <td>-5.510769e-03</td>\n",
       "      <td>-5.065257e-03</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>item_sales_level</td>\n",
       "      <td>3.819803e-03</td>\n",
       "      <td>2.708938e-03</td>\n",
       "      <td>2.972932e-04</td>\n",
       "      <td>0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>item_collected_level</td>\n",
       "      <td>-1.586354e-03</td>\n",
       "      <td>-7.694463e-04</td>\n",
       "      <td>0.000000e+00</td>\n",
       "      <td>0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>item_pv_level</td>\n",
       "      <td>-1.064011e-03</td>\n",
       "      <td>-4.659270e-04</td>\n",
       "      <td>0.000000e+00</td>\n",
       "      <td>0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>user_gender_id</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>0.000000e+00</td>\n",
       "      <td>0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>user_age_level</td>\n",
       "      <td>2.097080e-03</td>\n",
       "      <td>1.549007e-03</td>\n",
       "      <td>0.000000e+00</td>\n",
       "      <td>0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>user_occupation_id</td>\n",
       "      <td>0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>user_star_level</td>\n",
       "      <td>4.368419e-04</td>\n",
       "      <td>2.097788e-04</td>\n",
       "      <td>0.000000e+00</td>\n",
       "      <td>0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>context_page_id</td>\n",
       "      <td>-2.921464e-04</td>\n",
       "      <td>-2.507383e-04</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>shop_id</td>\n",
       "      <td>-7.683390e-23</td>\n",
       "      <td>-1.298935e-22</td>\n",
       "      <td>-2.091307e-22</td>\n",
       "      <td>-2.534750e-22</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>shop_review_num_level</td>\n",
       "      <td>-3.439915e-04</td>\n",
       "      <td>-6.736568e-04</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13</th>\n",
       "      <td>shop_review_positive_rate</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>property_label</td>\n",
       "      <td>-1.574984e-06</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>len_property</td>\n",
       "      <td>8.882562e-05</td>\n",
       "      <td>9.318157e-05</td>\n",
       "      <td>1.819463e-04</td>\n",
       "      <td>0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16</th>\n",
       "      <td>shop_star_level</td>\n",
       "      <td>-5.689701e-04</td>\n",
       "      <td>-5.765250e-05</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>17</th>\n",
       "      <td>shop_score_service</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18</th>\n",
       "      <td>shop_score_delivery</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>19</th>\n",
       "      <td>shop_score_description</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>20</th>\n",
       "      <td>hour</td>\n",
       "      <td>3.408278e-04</td>\n",
       "      <td>3.259836e-04</td>\n",
       "      <td>1.351130e-04</td>\n",
       "      <td>0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>21</th>\n",
       "      <td>user_query_day</td>\n",
       "      <td>-2.997440e-04</td>\n",
       "      <td>-3.483643e-04</td>\n",
       "      <td>-2.018362e-04</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22</th>\n",
       "      <td>user_query_day_hour</td>\n",
       "      <td>-1.146085e-03</td>\n",
       "      <td>-9.711520e-04</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>23</th>\n",
       "      <td>len_pred_cat</td>\n",
       "      <td>8.113382e-05</td>\n",
       "      <td>0.000000e+00</td>\n",
       "      <td>0.000000e+00</td>\n",
       "      <td>0.000000e+00</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                 Feature Name  Alpha = 0.000100  Alpha = 0.001000  \\\n",
       "0               item_brand_id     -2.891139e-06     -2.976878e-06   \n",
       "1                item_city_id     -7.654495e-06     -2.081594e-05   \n",
       "2            item_price_level     -5.510769e-03     -5.065257e-03   \n",
       "3            item_sales_level      3.819803e-03      2.708938e-03   \n",
       "4        item_collected_level     -1.586354e-03     -7.694463e-04   \n",
       "5               item_pv_level     -1.064011e-03     -4.659270e-04   \n",
       "6              user_gender_id     -0.000000e+00     -0.000000e+00   \n",
       "7              user_age_level      2.097080e-03      1.549007e-03   \n",
       "8          user_occupation_id      0.000000e+00     -0.000000e+00   \n",
       "9             user_star_level      4.368419e-04      2.097788e-04   \n",
       "10            context_page_id     -2.921464e-04     -2.507383e-04   \n",
       "11                    shop_id     -7.683390e-23     -1.298935e-22   \n",
       "12      shop_review_num_level     -3.439915e-04     -6.736568e-04   \n",
       "13  shop_review_positive_rate     -0.000000e+00     -0.000000e+00   \n",
       "14             property_label     -1.574984e-06     -0.000000e+00   \n",
       "15               len_property      8.882562e-05      9.318157e-05   \n",
       "16            shop_star_level     -5.689701e-04     -5.765250e-05   \n",
       "17         shop_score_service     -0.000000e+00     -0.000000e+00   \n",
       "18        shop_score_delivery     -0.000000e+00     -0.000000e+00   \n",
       "19     shop_score_description     -0.000000e+00     -0.000000e+00   \n",
       "20                       hour      3.408278e-04      3.259836e-04   \n",
       "21             user_query_day     -2.997440e-04     -3.483643e-04   \n",
       "22        user_query_day_hour     -1.146085e-03     -9.711520e-04   \n",
       "23               len_pred_cat      8.113382e-05      0.000000e+00   \n",
       "\n",
       "    Alpha = 0.010000  Alpha = 0.100000  \n",
       "0      -2.060906e-06     -6.895974e-07  \n",
       "1      -8.414619e-05     -0.000000e+00  \n",
       "2      -0.000000e+00     -0.000000e+00  \n",
       "3       2.972932e-04      0.000000e+00  \n",
       "4       0.000000e+00      0.000000e+00  \n",
       "5       0.000000e+00      0.000000e+00  \n",
       "6       0.000000e+00      0.000000e+00  \n",
       "7       0.000000e+00      0.000000e+00  \n",
       "8      -0.000000e+00     -0.000000e+00  \n",
       "9       0.000000e+00      0.000000e+00  \n",
       "10     -0.000000e+00     -0.000000e+00  \n",
       "11     -2.091307e-22     -2.534750e-22  \n",
       "12     -0.000000e+00     -0.000000e+00  \n",
       "13     -0.000000e+00     -0.000000e+00  \n",
       "14     -0.000000e+00      0.000000e+00  \n",
       "15      1.819463e-04      0.000000e+00  \n",
       "16     -0.000000e+00     -0.000000e+00  \n",
       "17     -0.000000e+00     -0.000000e+00  \n",
       "18     -0.000000e+00     -0.000000e+00  \n",
       "19     -0.000000e+00     -0.000000e+00  \n",
       "20      1.351130e-04      0.000000e+00  \n",
       "21     -2.018362e-04     -0.000000e+00  \n",
       "22     -0.000000e+00     -0.000000e+00  \n",
       "23      0.000000e+00      0.000000e+00  "
      ]
     },
     "execution_count": 101,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "def lasso(alphas):\n",
    "    '''\n",
    "    Takes in a list of alphas. Outputs a dataframe containing the coefficients of lasso regressions from each alpha.\n",
    "    '''\n",
    "    # Create an empty data frame\n",
    "    df = pd.DataFrame()\n",
    "    \n",
    "    # Create a column of feature names\n",
    "    df['Feature Name'] = X_train1.columns\n",
    "    \n",
    "    # For each alpha value in the list of alpha values,\n",
    "    for alpha in alphas:\n",
    "        # Create a lasso regression with that alpha value,\n",
    "        lasso = Lasso(alpha=alpha)\n",
    "        \n",
    "        # Fit the lasso regression\n",
    "        lasso.fit(X_train1, Y_train1)\n",
    "        \n",
    "        # Create a column name for that alpha value\n",
    "        column_name = 'Alpha = %f' % alpha\n",
    "\n",
    "        # Create a column of coefficient values\n",
    "        df[column_name] = lasso.coef_\n",
    "        print(lasso.score(X_train1, Y_train1))\n",
    "    # Return the datafram    \n",
    "    return df\n",
    "\n",
    "lasso([.0001, .001, .01,.1])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 110,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "23858"
      ]
     },
     "execution_count": 110,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "len(y_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "model = make_pipeline(PolynomialFeatures(2, interaction_only=False), LassoCV(eps=lasso_eps,n_alphas=lasso_nalpha,max_iter=lasso_iter,\n",
    "normalize=True,cv=5))\n",
    "model.fit(X_train,y_train)\n",
    "test_pred = np.array(model.predict(X_test))\n",
    "# RMSE=np.sqrt(np.sum(np.square(test_pred-y_test)))\n",
    "test_score = model.score(X_test,y_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 106,
   "metadata": {},
   "outputs": [
    {
     "ename": "ValueError",
     "evalue": "Shape of passed values is (23858, 23858), indices imply (1, 23858)",
     "output_type": "error",
     "traceback": [
      "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[0;31mValueError\u001b[0m                                Traceback (most recent call last)",
      "\u001b[0;32m~/anaconda/envs/ipykernel_py3/lib/python3.6/site-packages/pandas/core/internals.py\u001b[0m in \u001b[0;36mcreate_block_manager_from_blocks\u001b[0;34m(blocks, axes)\u001b[0m\n\u001b[1;32m   4621\u001b[0m                 blocks = [make_block(values=blocks[0],\n\u001b[0;32m-> 4622\u001b[0;31m                                      placement=slice(0, len(axes[0])))]\n\u001b[0m\u001b[1;32m   4623\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m~/anaconda/envs/ipykernel_py3/lib/python3.6/site-packages/pandas/core/internals.py\u001b[0m in \u001b[0;36mmake_block\u001b[0;34m(values, placement, klass, ndim, dtype, fastpath)\u001b[0m\n\u001b[1;32m   2956\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 2957\u001b[0;31m     \u001b[0;32mreturn\u001b[0m \u001b[0mklass\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mvalues\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mndim\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mndim\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mfastpath\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mfastpath\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mplacement\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mplacement\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   2958\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m~/anaconda/envs/ipykernel_py3/lib/python3.6/site-packages/pandas/core/internals.py\u001b[0m in \u001b[0;36m__init__\u001b[0;34m(self, values, placement, ndim, fastpath)\u001b[0m\n\u001b[1;32m    119\u001b[0m                              'implies %d' % (len(self.values),\n\u001b[0;32m--> 120\u001b[0;31m                                              len(self.mgr_locs)))\n\u001b[0m\u001b[1;32m    121\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;31mValueError\u001b[0m: Wrong number of items passed 23858, placement implies 1",
      "\nDuring handling of the above exception, another exception occurred:\n",
      "\u001b[0;31mValueError\u001b[0m                                Traceback (most recent call last)",
      "\u001b[0;32m<ipython-input-106-12b7a98e559f>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m()\u001b[0m\n\u001b[1;32m     25\u001b[0m     \u001b[0mmodel\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mfit\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mX_train\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0my_train\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     26\u001b[0m     \u001b[0mtest_pred\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0marray\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mmodel\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mpredict\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mX_test\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 27\u001b[0;31m     \u001b[0mRMSE\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0msqrt\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0msum\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0msquare\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mtest_pred\u001b[0m\u001b[0;34m-\u001b[0m\u001b[0my_test\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     28\u001b[0m     \u001b[0mtest_score\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mmodel\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mscore\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mX_test\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0my_test\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m~/anaconda/envs/ipykernel_py3/lib/python3.6/site-packages/pandas/core/generic.py\u001b[0m in \u001b[0;36m__array_wrap__\u001b[0;34m(self, result, context)\u001b[0m\n\u001b[1;32m   1153\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0m__array_wrap__\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mresult\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcontext\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mNone\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1154\u001b[0m         \u001b[0md\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_construct_axes_dict\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_AXIS_ORDERS\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcopy\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mFalse\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 1155\u001b[0;31m         \u001b[0;32mreturn\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_constructor\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mresult\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0md\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m__finalize__\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   1156\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1157\u001b[0m     \u001b[0;31m# ideally we would define this to avoid the getattr checks, but\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m~/anaconda/envs/ipykernel_py3/lib/python3.6/site-packages/pandas/core/frame.py\u001b[0m in \u001b[0;36m__init__\u001b[0;34m(self, data, index, columns, dtype, copy)\u001b[0m\n\u001b[1;32m    359\u001b[0m             \u001b[0;32melse\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    360\u001b[0m                 mgr = self._init_ndarray(data, index, columns, dtype=dtype,\n\u001b[0;32m--> 361\u001b[0;31m                                          copy=copy)\n\u001b[0m\u001b[1;32m    362\u001b[0m         \u001b[0;32melif\u001b[0m \u001b[0misinstance\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdata\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m(\u001b[0m\u001b[0mlist\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mtypes\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mGeneratorType\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    363\u001b[0m             \u001b[0;32mif\u001b[0m \u001b[0misinstance\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdata\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mtypes\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mGeneratorType\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m~/anaconda/envs/ipykernel_py3/lib/python3.6/site-packages/pandas/core/frame.py\u001b[0m in \u001b[0;36m_init_ndarray\u001b[0;34m(self, values, index, columns, dtype, copy)\u001b[0m\n\u001b[1;32m    531\u001b[0m             \u001b[0mvalues\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mmaybe_infer_to_datetimelike\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mvalues\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    532\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 533\u001b[0;31m         \u001b[0;32mreturn\u001b[0m \u001b[0mcreate_block_manager_from_blocks\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mvalues\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m[\u001b[0m\u001b[0mcolumns\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mindex\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    534\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    535\u001b[0m     \u001b[0;34m@\u001b[0m\u001b[0mproperty\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m~/anaconda/envs/ipykernel_py3/lib/python3.6/site-packages/pandas/core/internals.py\u001b[0m in \u001b[0;36mcreate_block_manager_from_blocks\u001b[0;34m(blocks, axes)\u001b[0m\n\u001b[1;32m   4629\u001b[0m         \u001b[0mblocks\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;34m[\u001b[0m\u001b[0mgetattr\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mb\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m'values'\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mb\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;32mfor\u001b[0m \u001b[0mb\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mblocks\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   4630\u001b[0m         \u001b[0mtot_items\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0msum\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mb\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mshape\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;32mfor\u001b[0m \u001b[0mb\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mblocks\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 4631\u001b[0;31m         \u001b[0mconstruction_error\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mtot_items\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mblocks\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mshape\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0maxes\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0me\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   4632\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   4633\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m~/anaconda/envs/ipykernel_py3/lib/python3.6/site-packages/pandas/core/internals.py\u001b[0m in \u001b[0;36mconstruction_error\u001b[0;34m(tot_items, block_shape, axes, e)\u001b[0m\n\u001b[1;32m   4606\u001b[0m         \u001b[0;32mraise\u001b[0m \u001b[0mValueError\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"Empty data passed with indices specified.\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   4607\u001b[0m     raise ValueError(\"Shape of passed values is {0}, indices imply {1}\".format(\n\u001b[0;32m-> 4608\u001b[0;31m         passed, implied))\n\u001b[0m\u001b[1;32m   4609\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   4610\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;31mValueError\u001b[0m: Shape of passed values is (23858, 23858), indices imply (1, 23858)"
     ]
    }
   ],
   "source": [
    "# Import function to create training and test set splits\n",
    "from sklearn.cross_validation import train_test_split\n",
    "# Import function to automatically create polynomial features! \n",
    "from sklearn.preprocessing import PolynomialFeatures\n",
    "# Import Linear Regression and a regularized regression function\n",
    "from sklearn.linear_model import LinearRegression\n",
    "from sklearn.linear_model import LassoCV\n",
    "# Finally, import function to make a machine learning pipeline\n",
    "from sklearn.pipeline import make_pipeline\n",
    "\n",
    "\n",
    "# Alpha (regularization strength) of LASSO regression\n",
    "lasso_eps = 0.0001\n",
    "lasso_nalpha=20\n",
    "lasso_iter=5000\n",
    "# Min and max degree of polynomials features to consider\n",
    "degree_min = 2\n",
    "degree_max = 8\n",
    "# Test/train split\n",
    "X_train, X_test, y_train, y_test = train_test_split(X_l, Y_l, test_size=test_size, random_state=seed)\n",
    "# Make a pipeline model with polynomial transformation and LASSO regression with cross-validation, run it for increasing degree of polynomial (complexity of the model)\n",
    "for degree in range(degree_min,degree_max+1):\n",
    "    model = make_pipeline(PolynomialFeatures(degree, interaction_only=False), LassoCV(eps=lasso_eps,n_alphas=lasso_nalpha,max_iter=lasso_iter,\n",
    "normalize=True,cv=5))\n",
    "    model.fit(X_train,y_train)\n",
    "    test_pred = np.array(model.predict(X_test))\n",
    "    RMSE=np.sqrt(np.sum(np.square(test_pred-y_test)))\n",
    "    test_score = model.score(X_test,y_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 53,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "cor = ads.corr()\n",
    "columns= list(cor.columns.values)\n",
    "# for i in ads.corr():\n",
    "#     print(i)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 54,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "0.8354561841804006 \t item_collected_level \t item_sales_level\n",
      "0.9869940671504477 \t shop_star_level \t shop_review_num_level\n",
      "0.9941417041149618 \t shop_score_delivery \t shop_score_service\n",
      "0.9376561305553119 \t shop_score_description \t shop_score_service\n",
      "0.9303513146718432 \t shop_score_description \t shop_score_delivery\n",
      "0.989787409122976 \t day \t context_timestamp\n"
     ]
    }
   ],
   "source": [
    "for i in range(cor.shape[0]):\n",
    "    for j in range(i+1):\n",
    "        if cor.iloc[i,j]!=1 and cor.iloc[i,j]>0.8 or cor.iloc[i,j]<-0.8:\n",
    "            print(cor.iloc[i,j],'\\t', columns[i],'\\t', columns[j])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "----------------------------------------------------------------------------------------------------\n",
      "----------------------------------------------------------------------------------------------------\n",
      "0.08760849308065373\n",
      "----------------------------------------------------------------------------------------------------\n",
      "----------------------------------------------------------------------------------------------------\n"
     ]
    }
   ],
   "source": [
    "#修改为logloss而不是0 1\n",
    "Y_pred = model_all.predict_proba(X_test)\n",
    "print(\"--\"*50)\n",
    "print(\"--\"*50)\n",
    "print(log_loss(Y_test, Y_pred))\n",
    "print(\"--\"*50)\n",
    "print(\"--\"*50)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "collapsed": true
   },
   "source": [
    "# 开始测试，先输入数据和特征工程"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style>\n",
       "    .dataframe thead tr:only-child th {\n",
       "        text-align: right;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: left;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>instance_id</th>\n",
       "      <th>item_id</th>\n",
       "      <th>item_category_list</th>\n",
       "      <th>item_property_list</th>\n",
       "      <th>item_brand_id</th>\n",
       "      <th>item_city_id</th>\n",
       "      <th>item_price_level</th>\n",
       "      <th>item_sales_level</th>\n",
       "      <th>item_collected_level</th>\n",
       "      <th>item_pv_level</th>\n",
       "      <th>...</th>\n",
       "      <th>context_timestamp</th>\n",
       "      <th>context_page_id</th>\n",
       "      <th>predict_category_property</th>\n",
       "      <th>shop_id</th>\n",
       "      <th>shop_review_num_level</th>\n",
       "      <th>shop_review_positive_rate</th>\n",
       "      <th>shop_star_level</th>\n",
       "      <th>shop_score_service</th>\n",
       "      <th>shop_score_delivery</th>\n",
       "      <th>shop_score_description</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2475218615076601065</td>\n",
       "      <td>2275895163219263378</td>\n",
       "      <td>7908382889764677758;8277336076276184272</td>\n",
       "      <td>2636395404473730413;7515802706813700848;302719...</td>\n",
       "      <td>7838285046767229711</td>\n",
       "      <td>7534238860363577544</td>\n",
       "      <td>7</td>\n",
       "      <td>6</td>\n",
       "      <td>8</td>\n",
       "      <td>14</td>\n",
       "      <td>...</td>\n",
       "      <td>1537885700</td>\n",
       "      <td>4005</td>\n",
       "      <td>8277336076276184272:-1;5799347067982556520:-1;...</td>\n",
       "      <td>5275548996133547595</td>\n",
       "      <td>13</td>\n",
       "      <td>0.985244</td>\n",
       "      <td>5011</td>\n",
       "      <td>0.964023</td>\n",
       "      <td>0.966550</td>\n",
       "      <td>0.955378</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>398316874173557226</td>\n",
       "      <td>7096238490711246967</td>\n",
       "      <td>7908382889764677758;5755694407684602296</td>\n",
       "      <td>5131280576272319091;2636395404473730413;734498...</td>\n",
       "      <td>8126195666233054089</td>\n",
       "      <td>3948283326616421003</td>\n",
       "      <td>6</td>\n",
       "      <td>9</td>\n",
       "      <td>8</td>\n",
       "      <td>16</td>\n",
       "      <td>...</td>\n",
       "      <td>1537862843</td>\n",
       "      <td>4001</td>\n",
       "      <td>5755694407684602296:216555019471416386,2636395...</td>\n",
       "      <td>329470548383752413</td>\n",
       "      <td>14</td>\n",
       "      <td>0.989068</td>\n",
       "      <td>5012</td>\n",
       "      <td>0.963794</td>\n",
       "      <td>0.964225</td>\n",
       "      <td>0.959134</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>2 rows × 26 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "           instance_id              item_id  \\\n",
       "0  2475218615076601065  2275895163219263378   \n",
       "1   398316874173557226  7096238490711246967   \n",
       "\n",
       "                        item_category_list  \\\n",
       "0  7908382889764677758;8277336076276184272   \n",
       "1  7908382889764677758;5755694407684602296   \n",
       "\n",
       "                                  item_property_list        item_brand_id  \\\n",
       "0  2636395404473730413;7515802706813700848;302719...  7838285046767229711   \n",
       "1  5131280576272319091;2636395404473730413;734498...  8126195666233054089   \n",
       "\n",
       "          item_city_id  item_price_level  item_sales_level  \\\n",
       "0  7534238860363577544                 7                 6   \n",
       "1  3948283326616421003                 6                 9   \n",
       "\n",
       "   item_collected_level  item_pv_level           ...            \\\n",
       "0                     8             14           ...             \n",
       "1                     8             16           ...             \n",
       "\n",
       "   context_timestamp  context_page_id  \\\n",
       "0         1537885700             4005   \n",
       "1         1537862843             4001   \n",
       "\n",
       "                           predict_category_property              shop_id  \\\n",
       "0  8277336076276184272:-1;5799347067982556520:-1;...  5275548996133547595   \n",
       "1  5755694407684602296:216555019471416386,2636395...   329470548383752413   \n",
       "\n",
       "   shop_review_num_level  shop_review_positive_rate  shop_star_level  \\\n",
       "0                     13                   0.985244             5011   \n",
       "1                     14                   0.989068             5012   \n",
       "\n",
       "   shop_score_service shop_score_delivery  shop_score_description  \n",
       "0            0.964023            0.966550                0.955378  \n",
       "1            0.963794            0.964225                0.959134  \n",
       "\n",
       "[2 rows x 26 columns]"
      ]
     },
     "execution_count": 36,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 这里输入我们的test文件， 这样最后能形成一个output file\n",
    "submission_test = pd.read_csv('./round1_ijcai_18_test_a_20180301.txt', sep=\" \")\n",
    "\n",
    "submission_test.head(2)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "###################################          #itemid TopN          ##########################################\n",
    "\n",
    "\n",
    "gp = submission_test.groupby(by='item_id')\n",
    "newdf=gp.size().reset_index(name='times') \n",
    "\n",
    "pop_brands_low = newdf[newdf['times']<=200]['item_id'].unique()     #选100还是200\n",
    "\n",
    "\n",
    "def itemid_cvt(num):\n",
    "    if num in pop_brands_low:\n",
    "        return 1\n",
    "\n",
    "    else:\n",
    "        return num\n",
    "\n",
    "    \n",
    "submission_test['item_id'] = submission_test['item_id'].apply(itemid_cvt)\n",
    "\n",
    "le = LabelEncoder()\n",
    "le.fit(submission_test['item_id'])\n",
    "submission_test['item_id'] = le.transform(submission_test['item_id'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "###################################           #brand TopN       ##########################################\n",
    "gp = submission_test.groupby(by='item_brand_id')\n",
    "newdf=gp.size().reset_index(name='times') \n",
    "\n",
    "pop_brands_low = newdf[newdf['times']<=20]['item_brand_id'].unique()\n",
    "\n",
    "\n",
    "def brand_cvt(num):\n",
    "    if num in pop_brands_low:\n",
    "        return 1\n",
    "\n",
    "    else:\n",
    "        return num\n",
    "\n",
    "    \n",
    "submission_test['item_brand_id'] = submission_test['item_brand_id'].apply(brand_cvt)\n",
    "\n",
    "le = LabelEncoder()\n",
    "le.fit(submission_test['item_brand_id'])\n",
    "submission_test['item_brand_id'] = le.transform(submission_test['item_brand_id'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "###################################           #city TopN       ##########################################\n",
    "\n",
    "\n",
    "gp = submission_test.groupby(by='item_city_id')\n",
    "newdf=gp.size().reset_index(name='times') \n",
    "\n",
    "pop_brands_low = newdf[newdf['times']<=50]['item_city_id'].unique()\n",
    "\n",
    "\n",
    "def city_cvt(num):\n",
    "    if num in pop_brands_low:\n",
    "        return 1\n",
    "\n",
    "    else:\n",
    "        return num\n",
    "\n",
    "    \n",
    "submission_test['item_city_id'] = submission_test['item_city_id'].apply(city_cvt)\n",
    "\n",
    "le = LabelEncoder()\n",
    "le.fit(submission_test['item_city_id'])\n",
    "submission_test['item_city_id'] = le.transform(submission_test['item_city_id'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "###################################           新特征len_predcat       ##########################################\n",
    "\n",
    "#再对对item_property_list进行长度分析\n",
    "#看每一行长度,越长表明本行越长，商品信息越丰富\n",
    "df = submission_test['predict_category_property'].str.split(';',expand=True)\n",
    "df.columns = [\"len_\"+str (i) for i in range(len(df.columns))]\n",
    "submission_test.insert(20, 'len_pred_cat', df.count(axis=1) )"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style>\n",
       "    .dataframe thead tr:only-child th {\n",
       "        text-align: right;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: left;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>instance_id</th>\n",
       "      <th>item_id</th>\n",
       "      <th>item_category_list</th>\n",
       "      <th>item_property_list</th>\n",
       "      <th>item_brand_id</th>\n",
       "      <th>item_city_id</th>\n",
       "      <th>item_price_level</th>\n",
       "      <th>item_sales_level</th>\n",
       "      <th>item_collected_level</th>\n",
       "      <th>item_pv_level</th>\n",
       "      <th>...</th>\n",
       "      <th>shop_review_positive_rate</th>\n",
       "      <th>shop_star_level</th>\n",
       "      <th>shop_score_service</th>\n",
       "      <th>shop_score_delivery</th>\n",
       "      <th>shop_score_description</th>\n",
       "      <th>time</th>\n",
       "      <th>day</th>\n",
       "      <th>hour</th>\n",
       "      <th>user_query_day</th>\n",
       "      <th>user_query_day_hour</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2475218615076601065</td>\n",
       "      <td>0</td>\n",
       "      <td>7908382889764677758;8277336076276184272</td>\n",
       "      <td>2636395404473730413;7515802706813700848;302719...</td>\n",
       "      <td>162</td>\n",
       "      <td>22</td>\n",
       "      <td>7</td>\n",
       "      <td>6</td>\n",
       "      <td>8</td>\n",
       "      <td>14</td>\n",
       "      <td>...</td>\n",
       "      <td>0.985244</td>\n",
       "      <td>5011</td>\n",
       "      <td>0.964023</td>\n",
       "      <td>0.966550</td>\n",
       "      <td>0.955378</td>\n",
       "      <td>2018-09-25 10:28:20</td>\n",
       "      <td>25</td>\n",
       "      <td>10</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>398316874173557226</td>\n",
       "      <td>0</td>\n",
       "      <td>7908382889764677758;5755694407684602296</td>\n",
       "      <td>5131280576272319091;2636395404473730413;734498...</td>\n",
       "      <td>0</td>\n",
       "      <td>12</td>\n",
       "      <td>6</td>\n",
       "      <td>9</td>\n",
       "      <td>8</td>\n",
       "      <td>16</td>\n",
       "      <td>...</td>\n",
       "      <td>0.989068</td>\n",
       "      <td>5012</td>\n",
       "      <td>0.963794</td>\n",
       "      <td>0.964225</td>\n",
       "      <td>0.959134</td>\n",
       "      <td>2018-09-25 04:07:23</td>\n",
       "      <td>25</td>\n",
       "      <td>4</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>2 rows × 32 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "           instance_id  item_id                       item_category_list  \\\n",
       "0  2475218615076601065        0  7908382889764677758;8277336076276184272   \n",
       "1   398316874173557226        0  7908382889764677758;5755694407684602296   \n",
       "\n",
       "                                  item_property_list  item_brand_id  \\\n",
       "0  2636395404473730413;7515802706813700848;302719...            162   \n",
       "1  5131280576272319091;2636395404473730413;734498...              0   \n",
       "\n",
       "   item_city_id  item_price_level  item_sales_level  item_collected_level  \\\n",
       "0            22                 7                 6                     8   \n",
       "1            12                 6                 9                     8   \n",
       "\n",
       "   item_pv_level         ...           shop_review_positive_rate  \\\n",
       "0             14         ...                            0.985244   \n",
       "1             16         ...                            0.989068   \n",
       "\n",
       "   shop_star_level  shop_score_service  shop_score_delivery  \\\n",
       "0             5011            0.964023             0.966550   \n",
       "1             5012            0.963794             0.964225   \n",
       "\n",
       "   shop_score_description                 time  day  hour user_query_day  \\\n",
       "0                0.955378  2018-09-25 10:28:20   25    10              2   \n",
       "1                0.959134  2018-09-25 04:07:23   25     4              2   \n",
       "\n",
       "   user_query_day_hour  \n",
       "0                    2  \n",
       "1                    2  \n",
       "\n",
       "[2 rows x 32 columns]"
      ]
     },
     "execution_count": 41,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "##############################################################\n",
    "\n",
    "#timestamp\n",
    "\n",
    "def timestamp_datetime(value):\n",
    "    format = '%Y-%m-%d %H:%M:%S'\n",
    "    value = time.localtime(value)\n",
    "    dt = time.strftime(format, value)\n",
    "    return dt\n",
    "\n",
    "\n",
    "def convert_data(data):\n",
    "    data['time'] = data.context_timestamp.apply(timestamp_datetime)\n",
    "    data['day'] = data.time.apply(lambda x: int(x[8:10]))\n",
    "    data['hour'] = data.time.apply(lambda x: int(x[11:13]))\n",
    "    user_query_day = data.groupby(['user_id', 'day']).size(\n",
    "    ).reset_index().rename(columns={0: 'user_query_day'})\n",
    "    data = pd.merge(data, user_query_day, 'left', on=['user_id', 'day'])\n",
    "    user_query_day_hour = data.groupby(['user_id', 'day', 'hour']).size().reset_index().rename(\n",
    "        columns={0: 'user_query_day_hour'})\n",
    "    data = pd.merge(data, user_query_day_hour, 'left',\n",
    "                    on=['user_id', 'day', 'hour'])\n",
    "    \n",
    "    return data\n",
    "\n",
    "submission_test = convert_data(submission_test)\n",
    "submission_test.head(2)\n",
    "\n",
    "\n",
    "# #item几个bin特征工程\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 42,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "# #bin操作item_sales_level  0,1-5,6,7,...,14,15-17\n",
    "def bin_sales(num):\n",
    "    if num in [1,2,3,4,5]:\n",
    "        num=3\n",
    "    elif num in[15,16,17]:\n",
    "        num =16\n",
    "    elif num == 0:\n",
    "        num = 1\n",
    "    else:\n",
    "        num = num\n",
    "    return num\n",
    "submission_test['item_sales_level'] = submission_test['item_sales_level'].apply(bin_sales)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 43,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "# # item_collected_level   0-2, 3-5, 6-8, 9, 10, ...,15, 16-17\n",
    "def bin_collected(num):\n",
    "    if num in [0,1,2]:\n",
    "        num=1\n",
    "    elif num in[3,4,5]:\n",
    "        num =2\n",
    "    elif num in [6,7,8]:\n",
    "        num = 3\n",
    "    elif num in [16,17]:\n",
    "        num = 11\n",
    "    else:\n",
    "        num = num-5\n",
    "    return num\n",
    "\n",
    "\n",
    "submission_test['item_collected_level'] = submission_test['item_collected_level'].apply(bin_collected)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 44,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(18371, 33)"
      ]
     },
     "execution_count": 44,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#对item_property_list 进行聚类\n",
    "#用item_property_list列生成新的数据集，用于聚类\n",
    "df = submission_test['item_property_list'].str.split(';',expand=True)\n",
    "df.columns = [\"property_\"+str (i) for i in range(len(df.columns))]\n",
    "df = df.fillna(-1)\n",
    "\n",
    "#把string格式转换成integer格式来运行聚类算法\n",
    "def toInt(raw_str):\n",
    "    return int(raw_str)\n",
    "\n",
    "temp_x = [df[df.columns[i]].apply(toInt) for i in range(len(df.columns))]\n",
    "\n",
    "#把dataframe变成array作为聚类算法的输入\n",
    "item_property_list = pd.concat(temp_x, axis=1)\n",
    "X = item_property_list.as_matrix()\n",
    "\n",
    "#商品总共14个类别，所以针对property取14个cluster\n",
    "kmeans = KMeans(n_clusters=100)\n",
    "kmeans.fit(X)\n",
    "\n",
    "centroids = kmeans.cluster_centers_\n",
    "labels = kmeans.labels_\n",
    "submission_test.insert(22, 'property_label', labels)\n",
    "submission_test.shape"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 45,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style>\n",
       "    .dataframe thead tr:only-child th {\n",
       "        text-align: right;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: left;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>instance_id</th>\n",
       "      <th>item_id</th>\n",
       "      <th>item_category_list</th>\n",
       "      <th>item_property_list</th>\n",
       "      <th>item_brand_id</th>\n",
       "      <th>item_city_id</th>\n",
       "      <th>item_price_level</th>\n",
       "      <th>item_sales_level</th>\n",
       "      <th>item_collected_level</th>\n",
       "      <th>item_pv_level</th>\n",
       "      <th>...</th>\n",
       "      <th>shop_review_positive_rate</th>\n",
       "      <th>shop_star_level</th>\n",
       "      <th>shop_score_service</th>\n",
       "      <th>shop_score_delivery</th>\n",
       "      <th>shop_score_description</th>\n",
       "      <th>time</th>\n",
       "      <th>day</th>\n",
       "      <th>hour</th>\n",
       "      <th>user_query_day</th>\n",
       "      <th>user_query_day_hour</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2475218615076601065</td>\n",
       "      <td>0</td>\n",
       "      <td>7908382889764677758;8277336076276184272</td>\n",
       "      <td>2636395404473730413;7515802706813700848;302719...</td>\n",
       "      <td>162</td>\n",
       "      <td>22</td>\n",
       "      <td>7</td>\n",
       "      <td>6</td>\n",
       "      <td>3</td>\n",
       "      <td>14</td>\n",
       "      <td>...</td>\n",
       "      <td>0.985244</td>\n",
       "      <td>5011</td>\n",
       "      <td>0.964023</td>\n",
       "      <td>0.96655</td>\n",
       "      <td>0.955378</td>\n",
       "      <td>2018-09-25 10:28:20</td>\n",
       "      <td>25</td>\n",
       "      <td>10</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>1 rows × 34 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "           instance_id  item_id                       item_category_list  \\\n",
       "0  2475218615076601065        0  7908382889764677758;8277336076276184272   \n",
       "\n",
       "                                  item_property_list  item_brand_id  \\\n",
       "0  2636395404473730413;7515802706813700848;302719...            162   \n",
       "\n",
       "   item_city_id  item_price_level  item_sales_level  item_collected_level  \\\n",
       "0            22                 7                 6                     3   \n",
       "\n",
       "   item_pv_level         ...           shop_review_positive_rate  \\\n",
       "0             14         ...                            0.985244   \n",
       "\n",
       "   shop_star_level  shop_score_service  shop_score_delivery  \\\n",
       "0             5011            0.964023              0.96655   \n",
       "\n",
       "   shop_score_description                 time  day  hour user_query_day  \\\n",
       "0                0.955378  2018-09-25 10:28:20   25    10              2   \n",
       "\n",
       "   user_query_day_hour  \n",
       "0                    2  \n",
       "\n",
       "[1 rows x 34 columns]"
      ]
     },
     "execution_count": 45,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#再对对item_property_list进行长度分析\n",
    "#看每一行长度,越长表明本行越长，商品信息越丰富\n",
    "df = submission_test['item_property_list'].str.split(';',expand=True)\n",
    "df.columns = [\"property_\"+str (i) for i in range(len(df.columns))]\n",
    "submission_test.insert(20, 'len_property', df.count(axis=1) )\n",
    "submission_test.head(1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 46,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "# #函数用来分解item_category_list\n",
    "def split_fst(str1= None):\n",
    "    \"\"\"\n",
    "    this is to split the combined attributes\n",
    "    \"\"\"\n",
    "    if ';' not in str1:\n",
    "        return str1\n",
    "    else:\n",
    "        pos = str1.index(';')\n",
    "        return str1[:pos]\n",
    "\n",
    "\n",
    "def split_snd(str1 = None):\n",
    "    \"\"\"\n",
    "    this is to split the combined attributes\n",
    "    \"\"\"\n",
    "    if ';' not in str1:\n",
    "        return str1\n",
    "    else:\n",
    "        pos = str1.index(';')\n",
    "        return str1[pos+1:]\n",
    "\n",
    "\n",
    "submission_test['item_category_list'] = submission_test['item_category_list'].apply(split_snd)\n",
    "submission_test['item_category_list'] = submission_test['item_category_list'].apply(split_snd)\n",
    "submission_test['item_category_list'] = submission_test['item_category_list'].apply(lambda x: int(x))\n",
    "submission_test['item_category_list'].unique() \n",
    "\n",
    "\n",
    "#对category进行label encoder\n",
    "le = LabelEncoder()\n",
    "le.fit(submission_test['item_category_list'].unique())\n",
    "submission_test['item_category_list'] = le.transform(submission_test['item_category_list'])\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 49,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "features = ['item_brand_id', 'item_city_id', 'item_price_level', 'item_sales_level',\n",
    "       'item_collected_level', 'item_pv_level', 'user_gender_id',\n",
    "       'user_age_level', 'user_occupation_id', 'user_star_level',\n",
    "        'context_page_id',\n",
    "       'shop_id', 'shop_review_num_level', 'shop_review_positive_rate',\n",
    "       'property_label','len_property',  'shop_star_level', 'shop_score_service',\n",
    "       'shop_score_delivery', 'shop_score_description',\n",
    "        'hour', 'user_query_day', 'user_query_day_hour','len_pred_cat']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 50,
   "metadata": {},
   "outputs": [],
   "source": [
    "sub_pred = model_all.predict_proba(submission_test[features])[:, 1]\n",
    "submission_test['predicted_score'] = sub_pred\n",
    "submission_test[['instance_id', 'predicted_score']].to_csv('./model_all.txt', index=False, sep=' ')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 51,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style>\n",
       "    .dataframe thead tr:only-child th {\n",
       "        text-align: right;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: left;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>instance_id</th>\n",
       "      <th>predicted_score</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2475218615076601065</td>\n",
       "      <td>0.011258</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>398316874173557226</td>\n",
       "      <td>0.031412</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "           instance_id  predicted_score\n",
       "0  2475218615076601065         0.011258\n",
       "1   398316874173557226         0.031412"
      ]
     },
     "execution_count": 51,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "hh = pd.read_csv('./model_all.txt', sep=' ')\n",
    "hh.head(2)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 52,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style>\n",
       "    .dataframe thead tr:only-child th {\n",
       "        text-align: right;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: left;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>instance_id</th>\n",
       "      <th>predicted_score</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2475218615076601065</td>\n",
       "      <td>0.9</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>398316874173557226</td>\n",
       "      <td>0.7</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>6586402638209028583</td>\n",
       "      <td>0.5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>1040996105851528465</td>\n",
       "      <td>0.3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>6316278569655873454</td>\n",
       "      <td>0.1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "           instance_id  predicted_score\n",
       "0  2475218615076601065              0.9\n",
       "1   398316874173557226              0.7\n",
       "2  6586402638209028583              0.5\n",
       "3  1040996105851528465              0.3\n",
       "4  6316278569655873454              0.1"
      ]
     },
     "execution_count": 52,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "pd.read_csv('./round1_ijcai_18_result_demo_20180301.txt', sep=' ')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true,
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "################################################################################################################\n",
    "#####################################        生成与提交test结果          ############################################## \n",
    "\n",
    "\n",
    "# 这里重新写！！！\n",
    "\n",
    "\n",
    "# 这里输入我们的test文件， 这样最后能形成一个output file\n",
    "# sub_test = pd.read_csv('./round1_ijcai_18_test_a_20180301.txt', sep=\" \")\n",
    "# del sub_test['item_property_list']\n",
    "# del sub_test['item_category_list']\n",
    "# del sub_test['predict_category_property']\n",
    "# temp = sub_test.iloc[:,[2,3,4,5,6,7,9,10,11,12,14,15,17,18,19,20,21,22]]\n",
    "# temp.head(2)\n",
    "\n",
    "\n",
    "###出结果！！！"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "# sub_pred = model_all.predict_proba(temp)[:, 1]\n",
    "# sub_test['predicted_score'] = sub_pred\n",
    "# sub_test[['instance_id', 'predicted_score']].to_csv('model_all.csv', index=False,sep=' ')\n",
    "# #保存在线提交结果"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "# model_item = XGBClassifier()  #建模\n",
    "\n",
    "# #调参：最佳学习率\n",
    "# learning_rate = [0.001, 0.005, 0.01, 0.05, 0.1, 0.2, 0.3]\n",
    "# param_grid = dict(learning_rate=learning_rate)\n",
    "# kfold = StratifiedKFold(n_splits=12, shuffle=True, random_state=7)\n",
    "\n",
    "# #使用grid_search, 一般还有random search（最后结果可能稍逊，但是时间省太太太多）\n",
    "# grid_search = GridSearchCV(model_item, param_grid, scoring=\"neg_log_loss\", n_jobs=-1, cv=kfold)\n",
    "# grid_result = grid_search.fit(X, Y)\n",
    "\n",
    "# means = grid_result.cv_results_['mean_test_score']\n",
    "# stds = grid_result.cv_results_['std_test_score']\n",
    "# params = grid_result.cv_results_['params']\n",
    "# for mean, stdev, param in zip(means, stds, params):\n",
    "#     print(\"%f (%f) with: %r\" % (mean, stdev, param))\n",
    "\n",
    "\n",
    "# eval_set = [(X_test, Y_test)]\n",
    "# model_item.fit(X_train, Y_train, early_stopping_rounds=20, eval_metric=\"auc\", eval_set=eval_set, verbose=True)\n",
    "# #here logloss\n",
    "# #we use auc to deal with imbalanced\n",
    "\n",
    "\n",
    "# plot_importance(model_item)   #feature重要程度\n",
    "# pyplot.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.4"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
